# Plan 250 - 模块化单体合流与边界治理

文档编号: 250  
标题: 模块化单体合流与边界治理（来源：202 计划拆分）  
创建日期: 2025-11-15  
版本: v1.0  
关联计划: 202-CQRS混合架构深度分析与演进建议, 203/204/206, 215

---

## 1. 背景与目标

来源自 202 计划“从混合走向清晰分层”的总目标。本子计划聚焦于合流到“模块化单体”的工程化落地与边界治理：统一项目结构、明确聚合边界、收敛跨层命名、建立守卫与回归路径，支撑后续 CQRS、契约治理与流水线简化。

目标：
- 统一项目结构（cmd/*/、internal/*、pkg/*、docs/*）与命名；
- 明确领域聚合边界与共享层（internal/organization/* 范式推广）；
- 建立最低可用的守卫与回归脚手架（lint、arch-validator、document-sync）；
- 将合流与重构的验收证据“只登记不复制”，保持单一事实来源。

## 2. 交付物
- 目录结构与命名约定文档（引用 203/204/AGENTS）；
- 最小守卫与校验脚本（ESLint 架构守卫、document-sync、API compliance）；
- 合流基线清单与风险登记（docs/development-plans/250-* 路径内）；
- 验收记录与日志（logs/plan250/*）。

## 3. 依赖与约束
- 依赖：203/204 的结构与时间表，AGENTS.md 强约束（Docker 强制、契约唯一来源）；
- 约束：不得复制规范正文；仅引用权威链接。

## 4. 验收标准
- 目录/命名/边界与 203/AGENTS 一致（脚本守卫通过）；
- 架构与文档同步校验通过（document-sync、architecture-validator）；
- CI 中新增/复用的守卫任务全绿；
- 产物与证据登记完整（logs/plan250/*）。

## 5. 执行与证据
- 执行路径：对照 203 的“结构与边界”章节 → 调整工程 → 落地守卫脚本 → 登记证据；
- 证据：logs/plan250/*.log、.json（包含脚本输出与校验摘要）。

## 6. 风险与回滚
- 风险：历史路径残留/命名不一致 → 以守卫门禁兜底，必要时分支回滚；
- 回滚：保留最小可行目录映射，并在 MR 说明记录迁移映射表。

---

维护者: 架构组（与 203/204 同步评审）

