# 16å·è®¡åˆ’ï¼šä»£ç å¼‚å‘³åˆ†æä¸æ”¹è¿›è®¡åˆ’ï¼ˆGoå·¥ç¨‹å®è·µä¼˜åŒ–ç‰ˆï¼‰

## è®¡åˆ’æ¦‚è¿°

**è®¡åˆ’åç§°**: ä»£ç å¼‚å‘³åˆ†æä¸æ”¹è¿›è®¡åˆ’ï¼ˆGoå·¥ç¨‹å®è·µä¼˜åŒ–ç‰ˆï¼‰
**è®¡åˆ’ç¼–å·**: 16
**åˆ›å»ºæ—¥æœŸ**: 2025-09-29
**æ›´æ–°æ—¥æœŸ**: 2025-10-02ï¼ˆPhase 0 è¯æ®å½’æ¡£ä¸æ—¥å¿—åŒæ­¥ï¼‰
**ä¼˜å…ˆçº§**: P2ï¼ˆä¸­é«˜ä¼˜å…ˆçº§ - å¹³è¡¡è´¨é‡ä¸å®ç”¨æ€§ï¼‰
**é¢„è®¡å®Œæˆæ—¶é—´**: 5-6å‘¨ï¼ˆå¢åŠ 20%ç¼“å†²ï¼‰
**è´Ÿè´£å›¢é˜Ÿ**: æ¶æ„ç»„ï¼ˆOwnerï¼‰ / å‰ç«¯å›¢é˜Ÿ / åç«¯å›¢é˜Ÿ / QA è”åˆå°ç»„
**è¿›å±•åŒæ­¥é¢‘ç‡**: æ¯å‘¨äº”æ›´æ–°è‡³ `docs/development-plans/06-integrated-teams-progress-log.md`

## æ‰§è¡Œæ‘˜è¦

é€šè¿‡åˆ†æé¡¹ç›®ä»£ç åº“ï¼ŒåŸºçº¿ï¼ˆ2025-09-29ï¼‰å¹³å‡æ–‡ä»¶è¡Œæ•°ä¸º312.7è¡Œï¼ˆGoï¼‰ä¸163.0è¡Œï¼ˆTypeScriptï¼‰ã€‚2025-10-07 å¤æµ‹æ˜¾ç¤º TypeScript å·²é™è‡³ **147.8 è¡Œ/æ–‡ä»¶**ï¼Œè®¡åˆ’æŒç»­å›´ç»• Go å·¥ç¨‹å®è·µæ ‡å‡†æ¨è¿›é‡æ„ä»¥ä¿æŒæ”¹è¿›è¶‹åŠ¿ã€‚

**åŸºçº¿æ•°æ®æ¥æº**: `reports/iig-guardian/code-smell-baseline-20250929.md`ï¼ˆå”¯ä¸€äº‹å®æ¥æºï¼‰
- Goåç«¯ï¼š54ä¸ªæ–‡ä»¶ï¼Œ16,888è¡Œï¼Œçº¢ç¯3ä¸ªï¼ˆ27.5%ï¼‰ï¼Œæ©™ç¯5ä¸ªï¼ˆ22.1%ï¼‰
- å‰ç«¯TSï¼š112ä¸ªæ–‡ä»¶ï¼Œ18,254è¡Œï¼Œçº¢ç¯2ä¸ªï¼ˆ12.2%ï¼‰ï¼Œæ©™ç¯9ä¸ªï¼ˆ26.2%ï¼‰

## é—®é¢˜è¯†åˆ«ä¸åˆ†æ

### ğŸ” ä»£ç å¼‚å‘³è¯†åˆ«ç»“æœ

#### 1. æ–‡ä»¶å¤æ‚åº¦å¼‚å‘³ï¼ˆåŸºäºGoå·¥ç¨‹å®è·µæ ‡å‡†ï¼‰
**é—®é¢˜æè¿°**: éƒ¨åˆ†æ–‡ä»¶è¶…å‡ºGoç¤¾åŒºæœ€ä½³å®è·µæ ‡å‡†ï¼Œå½±å“ä»£ç å¯ç»´æŠ¤æ€§

**Goåç«¯æ–‡ä»¶åˆ†æ**ï¼ˆåŸºäºGoå·¥ç¨‹å®è·µæ ‡å‡†ï¼‰:
- **çº¢ç¯åŒºåŸŸ**ï¼ˆ>800è¡Œï¼Œå¼ºåˆ¶é‡æ„ï¼‰:
  - `cmd/organization-query-service/main.go`: 2,264è¡Œ âš ï¸ ä¸¥é‡è¶…æ ‡
  - `cmd/organization-command-service/internal/handlers/organization.go`: 1,399è¡Œ âš ï¸ ä¸¥é‡è¶…æ ‡
  - `cmd/organization-command-service/internal/repository/organization.go`: 817è¡Œ âš ï¸ éœ€é‡æ„
- **æ©™ç¯åŒºåŸŸ**ï¼ˆ500-800è¡Œï¼Œéœ€è¦æ¶æ„å¸ˆè¯„ä¼°ï¼‰:
  - `cmd/organization-command-service/internal/services/temporal.go`: 773è¡Œ
  - `cmd/organization-command-service/internal/repository/temporal_timeline.go`: 685è¡Œ
  - `cmd/organization-command-service/internal/validators/business.go`: 596è¡Œ
  - `cmd/organization-command-service/internal/audit/logger.go`: 595è¡Œ
  - `cmd/organization-command-service/internal/authbff/handler.go`: 589è¡Œ
- **é»„ç¯åŒºåŸŸ**ï¼ˆ300-500è¡Œï¼Œå…³æ³¨ç»“æ„ä¼˜åŒ–ï¼‰: å…¶ä»–17ä¸ªæ–‡ä»¶
- **ç»Ÿè®¡æ•°æ®**: 54ä¸ªGoæ–‡ä»¶ï¼Œå¹³å‡312.7è¡Œï¼ˆåŸºçº¿å‚è§ `reports/iig-guardian/code-smell-baseline-20250929.md`ï¼‰

**å‰ç«¯TypeScriptæ–‡ä»¶åˆ†æ**:
- **è¶…å¤§æ–‡ä»¶**ï¼ˆ>800è¡Œï¼Œéœ€è¦é‡æ„ï¼‰:
  - `frontend/src/features/temporal/components/TemporalMasterDetailView.tsx`: 1,157è¡Œ âš ï¸
  - `frontend/src/features/temporal/components/InlineNewVersionForm.tsx`: **å·²äº 2025-10-08 æ‹†åˆ†**ï¼ˆå®¹å™¨ + 8 å­ç»„ä»¶ + hooks/action å·¥å‚ï¼Œæœ€å¤§ 232 è¡Œï¼‰
- **å¤§æ–‡ä»¶**ï¼ˆ400-800è¡Œï¼Œè¯„ä¼°æ‹†åˆ†ä»·å€¼ï¼‰:
  - `frontend/src/features/organizations/components/OrganizationTree.tsx`: 586è¡Œ
  - `frontend/src/shared/hooks/useEnterpriseOrganizations.ts`: 491è¡Œ
  - `frontend/src/shared/api/unified-client.ts`: 486è¡Œ
- **ä¸­ç­‰æ–‡ä»¶**ï¼ˆ300-400è¡Œï¼‰: å…¶ä»–å¤šä¸ªæ–‡ä»¶
- **ç»Ÿè®¡æ•°æ®**: 112ä¸ªTypeScriptæ–‡ä»¶ï¼ˆ2025-09-29 åŸºçº¿ï¼‰å¹³å‡163.0è¡Œï¼›2025-10-07 å¤æµ‹ 137 ä¸ªæ–‡ä»¶å¹³å‡ 147.8 è¡Œï¼ˆé™å¹…çº¦ 9.3%ï¼‰ã€‚

**å½±å“è¯„ä¼°ï¼ˆåˆç†çº§åˆ«ï¼‰**:
- è¶…å¤§æ–‡ä»¶å½±å“ä»£ç å¯è¯»æ€§å’Œå›¢é˜Ÿåä½œæ•ˆç‡
- å•å…ƒæµ‹è¯•å¤æ‚åº¦è¾ƒé«˜ï¼Œéœ€è¦ä¼˜åŒ–
- ä»£ç å®¡æŸ¥éš¾åº¦å¢åŠ ï¼Œç‰¹åˆ«æ˜¯è¶…800è¡Œçš„æ–‡ä»¶
- éƒ¨åˆ†è¿åGoç¤¾åŒºæ¨èçš„æ–‡ä»¶ç»„ç»‡æ–¹å¼

#### 2. ç±»å‹å®‰å…¨å¼‚å‘³
**é—®é¢˜æè¿°**: TypeScriptä»£ç ä¸­å­˜åœ¨å¤§é‡å¼±ç±»å‹ä½¿ç”¨
- æ£€æµ‹åˆ°171å¤„`any`æˆ–`unknown`ç±»å‹ä½¿ç”¨ï¼ˆè¯¦è§ `reports/iig-guardian/code-smell-baseline-20250929.md`ï¼‰
- ç±»å‹å®ˆå«ä½¿ç”¨ä¸å¤Ÿå……åˆ†
- ç¼ºä¹ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥é…ç½®

#### 3. æ¶æ„ä¸€è‡´æ€§å¼‚å‘³
**é—®é¢˜æè¿°**: éƒ¨åˆ†ä»£ç è¿åé¡¹ç›®æ¶æ„åŸåˆ™
- CQRSåˆ†ç¦»ä¸å¤Ÿå½»åº•ï¼ˆéƒ¨åˆ†æ··ç”¨åœºæ™¯ï¼‰
- APIå‘½åä¸ä¸€è‡´é—®é¢˜ï¼ˆcamelCase vs snake_caseï¼‰
- è·¨å±‚ä¾èµ–å…³ç³»å¤æ‚

#### 4. æŠ€æœ¯å€ºåŠ¡å¼‚å‘³
**é—®é¢˜æè¿°ä¸æœ€æ–°è¿›å±•**:
- âœ… æ§åˆ¶å°æ—¥å¿—æ²»ç†ï¼šPlan 20ï¼ˆESLint ä¾‹å¤–ç­–ç•¥ä¸é›¶å‘Šè­¦æ–¹æ¡ˆï¼‰å·²äº 2025-10-02 å®Œæˆï¼Œå‰ç«¯ `console.*` å…¨é‡è¿ç§»è‡³ `@/shared/utils/logger`ï¼Œé›¶å‘Šè­¦æŠ¥å‘Šå½’æ¡£äº `reports/eslint/plan20/`ã€‚
- â³ éƒ¨åˆ†è„šæœ¬æ–‡ä»¶ä»åŒ…å« TODO æ ‡è®°ï¼ˆéœ€æŒ‰è®¡åˆ’ 16 Phase 1 æ”¶æ•›ï¼‰ã€‚
- â³ ä¸ªåˆ«ä¾èµ–åŒ…å­˜åœ¨å¼ƒç”¨è­¦å‘Šï¼Œå¾… `scripts/code-smell-check-quick.sh` è‡ªåŠ¨å·¡æ£€ç»“æœç¡®è®¤åæ’æœŸå¤„ç†ã€‚

## æ”¹è¿›è®¡åˆ’ï¼ˆåŸºäºGoå·¥ç¨‹å®è·µï¼‰

### ğŸ“Š Goå·¥ç¨‹å®è·µæ ‡å‡†å®šä¹‰

#### æ–‡ä»¶å¤§å°åˆ†çº§ç®¡ç†
```yaml
ç»¿ç¯åŒºåŸŸ (0-400è¡Œ): ç¬¦åˆGoç¤¾åŒºæ ‡å‡†ï¼Œæ— éœ€å¹²é¢„
é»„ç¯åŒºåŸŸ (400-600è¡Œ): å…³æ³¨ä»£ç ç»“æ„ï¼Œä¼˜åŒ–ç»„ç»‡æ–¹å¼
æ©™ç¯åŒºåŸŸ (600-800è¡Œ): éœ€è¦æ¶æ„å¸ˆè¯„ä¼°ï¼Œå»ºè®®æ‹†åˆ†
çº¢ç¯åŒºåŸŸ (800è¡Œä»¥ä¸Š): å¼ºåˆ¶é‡æ„ï¼Œè¿åå·¥ç¨‹å®è·µæ ‡å‡†
```

#### å‡½æ•°å¤§å°æ ‡å‡†
```yaml
æ¨èå‡½æ•°å¤§å°: â‰¤50è¡Œï¼ˆä¸€å±æ˜¾ç¤ºï¼‰
å¯æ¥å—èŒƒå›´: 50-100è¡Œ
éœ€è¦é‡æ„: >100è¡Œ
```

### Phase 0ï¼ˆå·²å®Œæˆï¼‰
- åŸºçº¿äº§ç‰©ï¼š`reports/iig-guardian/code-smell-baseline-20250929.md`ã€`reports/iig-guardian/code-smell-types-20251007.md`ã€‚
- è¯æ®åŒæ­¥ï¼š`plan16-phase0-baseline` æ ‡ç­¾å·²æ¨é€ï¼ˆæäº¤ `718d7cf6`ï¼‰ã€å·¥ä½œé‡å¤æ ¸çºªè¦å½’æ¡£äº Plan 19ã€ŠPlan 16 Phase 0 å·¥ä½œé‡å¤æ ¸çºªè¦ï¼ˆè¯æ®å½’æ¡£ï¼‰ã€‹ (`../archive/development-plans/19-phase0-workload-review.md`)ã€06 å·æ—¥å¿—è®°å½•å®Œæˆæ—¶é—´ 2025-09-30 10:00 UTCã€‚

### ğŸ¯ Phase 1ï¼šé‡ç‚¹æ–‡ä»¶é‡æ„ï¼ˆ3å‘¨ï¼Œå«æµ‹è¯•ç¼“å†²ï¼‰

#### âœ… Phase 1 åç«¯å®Œæˆï¼ˆ2025-10-05ï¼‰
- **âœ… Handlers æ‹†åˆ†å®Œæˆ**ï¼š
  - `organization.go` (1,399è¡Œ) â†’ 8ä¸ªæ¨¡å—åŒ–æ–‡ä»¶ï¼ˆ1,488è¡Œæ€»è®¡ï¼Œå¹³å‡186è¡Œ/æ–‡ä»¶ï¼‰
  - æ–‡ä»¶åˆ—è¡¨ï¼š`organization_base.go`ã€`organization_create.go`ã€`organization_update.go`ã€`organization_history.go`ã€`organization_routes.go`ã€`organization_events.go`ã€`organization_helpers.go`ã€`organization_internal_test.go`
  - çº¢ç¯æ¸…é›¶ï¼šæ‰€æœ‰æ–‡ä»¶ <400 è¡Œ
  - éªŒè¯æŠ¥å‘Šï¼š`reports/iig-guardian/plan16-phase1-handlers-refactor-20251005.md`
- **âœ… æ ¹èŠ‚ç‚¹çˆ¶ä»£ç æ ‡å‡†åŒ–å®Œæˆ**ï¼ˆ2025-10-03ï¼‰ï¼š
  - åç«¯æ–°å¢ `internal/utils/parent_code.go` å®šä¹‰ `ROOT_PARENT_CODE="0000000"`ï¼Œç»Ÿä¸€å‘½ä»¤æœåŠ¡éªŒè¯ã€å¤„ç†å™¨ã€ä»“å‚¨å±‚æ ¹èŠ‚ç‚¹å¤„ç†é€»è¾‘ï¼Œå…¼å®¹é—ç•™"0"è¾“å…¥è‡ªåŠ¨è½¬æ¢ã€‚
  - å‰ç«¯æ›´æ–° `normalizeParentCode` å·¥å…·å‡½æ•°å’Œ GraphQL è½¬æ¢å™¨ï¼Œè°ƒæ•´å…±äº«ç±»å‹å’Œæ—¶æ€ç»„ä»¶ä»¥ä½¿ç”¨ä¸ƒä½æ ¹ä»£ç ï¼ŒåŒæ­¥å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯• fixtureã€‚
  - E2E éªŒè¯ï¼šPlaywright ä¸šåŠ¡æµç¨‹æµ‹è¯•é€šè¿‡ï¼ˆ4/5ï¼‰ï¼ŒCRUD æ“ä½œæ­£ç¡®å¤„ç†æ–°æ ¹ä»£ç æ ¼å¼ï¼ˆæäº¤ `11c5886d`ï¼‰ã€‚

#### â–¶ï¸ å‰©ä½™å·¥ä½œ
- å‰ç«¯çº¢ç¯ç»„ä»¶æ‹†åˆ†æŒç»­æ¨è¿›ï¼š
  - Temporal ä¸»è§†å›¾ï¼š`TemporalMasterDetailView.tsx` å·²é™è‡³ 380 è¡Œå¹¶æ‹†åˆ†å‡º Header/Alerts/API å±‚ï¼›`useTemporalMasterDetail.ts` ç°ä¸º 264 è¡Œï¼ŒAPI é€»è¾‘æ‹†åˆ†ä¸º `temporalMasterDetailLoaders.ts`ï¼ˆ202 è¡Œï¼‰ä¸ `temporalMasterDetailSubmissions.ts`ï¼ˆ198 è¡Œï¼‰ï¼Œæ»¡è¶³ Phase 1 æŒ‡æ ‡ã€‚
  - Inline è¡¨å•ï¼š`InlineNewVersionForm` å·²å®Œæˆå®¹å™¨/å­ç»„ä»¶/åŠ¨ä½œæ‹†åˆ†ï¼Œç­‰å¾… IIG åˆ·æ–°åæ›´æ–°å¹³å‡è¡Œæ•°ã€‚
- **â³ åç«¯æµ‹è¯•éªŒè¯**ï¼š
  - å•å…ƒæµ‹è¯•æ›´æ–°ï¼ˆæ›´æ–° import è·¯å¾„ï¼Œè¡¥å……æ–°å¢å‡½æ•°æµ‹è¯•ï¼Œç›®æ ‡è¦†ç›–ç‡ â‰¥ 80%ï¼‰
  - é›†æˆæµ‹è¯•éªŒè¯ï¼ˆ`make test-integration`ï¼‰
  - å¥‘çº¦æµ‹è¯•éªŒè¯ï¼ˆ`npm run test:contract`ï¼‰
- **ğŸš§ æ•°æ®åº“è§¦å‘å™¨ä¿®å¤**ï¼ˆé˜»å¡é¡¹ï¼‰ï¼š
  - ç§»é™¤å®¡è®¡è§¦å‘å™¨å¯¹ `operation_reason`/`is_temporal` åˆ—çš„å¼•ç”¨
  - å…³è” Plan 18 è¿ç§»å…¼å®¹æ€§æ•´æ”¹ Phase B

#### ç›®æ ‡
ä¼˜å…ˆè§£å†³çº¢ç¯åŒºåŸŸæ–‡ä»¶ï¼Œæ¸…é›¶çº¢ç¯å¹¶å°†å‰ç«¯å¹³å‡æ–‡ä»¶è¡Œæ•°é™è‡³150è¡Œä»¥ä¸‹

#### é¢„é˜²æªæ–½ï¼ˆæ¯æ¬¡é‡æ„å‰å¼ºåˆ¶æ‰§è¡Œï¼‰
```bash
# 1. è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
make test && npm --prefix frontend run test

# 2. è¿è¡Œå¥‘çº¦æµ‹è¯•
npm --prefix frontend run test:contract

# 3. åˆ›å»ºå›æ»šç‚¹
git tag plan16-phase1-task[N]-before

# 4. é‡æ„åç«‹å³éªŒè¯
make test-integration && npm --prefix frontend run test:e2e
```

#### è¯¦ç»†æ‰§è¡Œè®¡åˆ’

**ç¬¬ä¸€ä¼˜å…ˆçº§ - çº¢ç¯åŒºåŸŸå¼ºåˆ¶é‡æ„**ï¼ˆ2å‘¨ï¼Œå«æµ‹è¯•æ—¶é—´ï¼‰

1. **Goåç«¯çº¢ç¯æ–‡ä»¶é‡æ„**

   > **è¿›å±•è¿½è¸ª**ï¼ˆ2025-10-05 æ›´æ–°ï¼‰ï¼š
   > - âœ… æŸ¥è¯¢æœåŠ¡ main.go æ‹†åˆ†å®Œæˆï¼ˆ2025-10-07ï¼‰ï¼š`postgres.go` æ‹†åˆ†ä¸º 5 ä¸ªæ¨¡å—ï¼Œæœ€å¤§æ–‡ä»¶ 475 è¡Œ
   > - âœ… **å‘½ä»¤æœåŠ¡ handlers æ‹†åˆ†å®Œæˆ**ï¼ˆ2025-10-05ï¼‰ï¼š`organization.go` (1,399è¡Œ) â†’ 8 æ–‡ä»¶ï¼ˆå¹³å‡ 186 è¡Œï¼‰ï¼Œçº¢ç¯æ¸…é›¶
   > - ğŸ“Š è¯¦ç»†æŠ¥å‘Šï¼š`reports/iig-guardian/plan16-phase1-handlers-refactor-20251005.md`

   **A. main.go é‡æ„ç»“æœ**ï¼ˆâœ… 2025-10-07ï¼‰
   - `cmd/organization-query-service/main.go` å·²æ”¶æ•›è‡³ 13 è¡Œå…¥å£ã€‚
   - æ–°å¢ `internal/app/app.go`ï¼ˆ304 è¡Œï¼‰ä¸ `internal/app/config.go`ï¼ˆ55 è¡Œï¼‰ï¼Œè´Ÿè´£æœåŠ¡è£…é…ä¸é…ç½®åŠ è½½ã€‚
   - æœ€å¤§æ–‡ä»¶ä¸º `internal/repository/postgres_audit.go`ï¼ˆ540 è¡Œï¼Œé»„ç¯ï¼‰ï¼Œç¬¦åˆ Phase 1 æŒ‡æ ‡ã€‚
   - å›å½’éªŒè¯ï¼š`make test`ã€`make test-integration`ã€`npm --prefix frontend run test:contract`ã€`make coverage` å‡å·²æ‰§è¡Œï¼ˆ2025-10-07ï¼‰ï¼Œåç»­ä½œä¸ºé˜¶æ®µæ€§è´¨é‡éªŒè¯åŸºçº¿ã€‚

   **B. organization.goå¤„ç†å™¨é‡æ„** (1,399è¡Œ â†’ 8ä¸ªæ–‡ä»¶) - âœ… **å·²å®Œæˆ** (2025-10-05)
   ```
   å®é™…æ‰§è¡Œç»“æœ:
   - æ‹†åˆ†ä¸º 8 ä¸ªæ¨¡å—åŒ–æ–‡ä»¶ï¼Œæ€»è®¡ 1,488 è¡Œï¼ˆå¹³å‡ 186 è¡Œ/æ–‡ä»¶ï¼‰
   - æ‰€æœ‰æ–‡ä»¶å‡åœ¨ç»¿ç¯åŒºåŸŸï¼ˆ<400 è¡Œï¼‰
   - è¯¦ç»†æŠ¥å‘Šï¼šreports/iig-guardian/plan16-phase1-handlers-refactor-20251005.md
   ```
   å®é™…æ–‡ä»¶ç»“æ„:
   - `handlers/organization_base.go` - åŸºç¡€ç»“æ„ä¸ä¾èµ–æ³¨å…¥ (~200è¡Œ)
   - `handlers/organization_create.go` - åˆ›å»ºæ“ä½œå¤„ç†å™¨ (~250è¡Œ)
   - `handlers/organization_update.go` - æ›´æ–°æ“ä½œå¤„ç†å™¨ (~280è¡Œ)
   - `handlers/organization_history.go` - å†å²æŸ¥è¯¢å¤„ç†å™¨ (~150è¡Œ)
   - `handlers/organization_routes.go` - è·¯ç”±æ³¨å†Œ (~180è¡Œ)
   - `handlers/organization_events.go` - äº‹ä»¶å¤„ç† (~120è¡Œ)
   - `handlers/organization_helpers.go` - å…¬å…±è¾…åŠ©å‡½æ•° (~220è¡Œ)
   - `handlers/organization_internal_test.go` - å†…éƒ¨æµ‹è¯• (~88è¡Œ)

   **C. repositoryé‡æ„** (817è¡Œ â†’ 5ä¸ªæ–‡ä»¶)
   ```
   ç¬¬16-17å¤©: æŒ‰æ•°æ®è®¿é—®æ¨¡å¼æ‹†åˆ†ï¼ˆå·²æ‰§è¡Œï¼Œç”Ÿæˆ postgres_*.go äº”ä¸ªæ¨¡å—ï¼‰
   ç¬¬18å¤©: æµ‹è¯•å’Œä¼˜åŒ–ï¼ˆ`go test ./cmd/organization-query-service/...`ã€`make test-integration` å®Œæˆï¼‰
   ```
   å®é™…æ–‡ä»¶ç»“æ„ï¼ˆ2025-10-07 å®Œæˆï¼‰:
   - `internal/repository/postgres_base.go` - ä»“å‚¨æ„é€ ä¸å…¬å…±ä¾èµ–ï¼ˆ33 è¡Œï¼‰
   - `internal/repository/postgres_organizations_list.go` - åˆ—è¡¨/åˆ†é¡µæŸ¥è¯¢ï¼ˆ268 è¡Œï¼‰
   - `internal/repository/postgres_organization_details.go` - å•ä½“/å†å²/ç‰ˆæœ¬æŸ¥è¯¢ï¼ˆ234 è¡Œï¼‰
   - `internal/repository/postgres_organization_hierarchy.go` - ç»Ÿè®¡ä¸å±‚çº§æŸ¥è¯¢ï¼ˆ335 è¡Œï¼‰
   - `internal/repository/postgres_audit.go` - å®¡è®¡æŸ¥è¯¢ä¸æ ¡éªŒï¼ˆ475 è¡Œï¼‰

   **æ¶æ„è¾¹ç•Œä¸ä¾èµ–æ§åˆ¶**
   - æ–°å¢ `internal/server/*` ä¸ `internal/routes/*` ä»…æš´éœ²äº `cmd/organization-query-service`ï¼Œç¦æ­¢è¢«å‘½ä»¤æœåŠ¡å¼•ç”¨ï¼ˆé€šè¿‡ `go list ./cmd/...` ä¾èµ–æ£€æŸ¥éªŒè¯ï¼‰ã€‚
   - handler æ‹†åˆ†åæ¨¡å—ç»Ÿä¸€å½’æ¡£åœ¨ `cmd/organization-command-service/internal/handlers/organization/`ï¼Œåªä¾èµ–æ‰€åœ¨æœåŠ¡çš„ `services`/`repository` å±‚ï¼Œä¸ç›´æ¥è®¿é—® GraphQL æŸ¥è¯¢å±‚ã€‚
   - repository æ‹†åˆ†æ–‡ä»¶ä¿æŒ `repository/organization` åŒ…çº§åˆ«ï¼Œç¦æ­¢è·¨å±‚è°ƒç”¨ `handlers`ï¼Œé€šè¿‡ `golangci-lint` import rules æ ¡éªŒã€‚
   - Phase 1 æ¯ä¸ª PR æ·»åŠ æ¶æ„ä¾èµ–å›¾ï¼ˆä½¿ç”¨ `go mod graph` ä¸ `golangci-lint run --config .golangci.yml`ï¼‰å¹¶åœ¨è¯„å®¡æ¸…å•ä¸­å‹¾é€‰â€œCQRS è¾¹ç•Œæ— äº¤å‰â€é¡¹ã€‚

2. **å‰ç«¯è¶…å¤§ç»„ä»¶é‡æ„**
   - **TemporalMasterDetailView.tsx æ‹†åˆ†è¿›å±•ï¼ˆæˆªè‡³æœ¬æ¬¡æ›´æ–°ï¼‰**
    - ç°çŠ¶ï¼šä¸»ç»„ä»¶å·²é™è‡³ 380 è¡Œï¼ˆ`wc -l frontend/src/features/temporal/components/TemporalMasterDetailView.tsx`ï¼‰ã€‚
    - æ‹†åˆ†è¿›å±•ï¼š
      - `TemporalMasterDetailHeader.tsx`ï¼ˆ101 è¡Œï¼‰è´Ÿè´£é¡µå¤´ä¸çŠ¶æ€æ“ä½œåŒºã€‚
      - `TemporalMasterDetailAlerts.tsx`ï¼ˆ101 è¡Œï¼‰è´Ÿè´£é€šç”¨æç¤ºå±•ç¤ºã€‚
      - `hooks/useTemporalMasterDetail.ts`ï¼ˆ264 è¡Œï¼‰èšç„¦çŠ¶æ€ç®¡ç†ä¸è°ƒåº¦ã€‚
      - API é€‚é…å±‚ç»†åŒ–ä¸º `temporalMasterDetailLoaders.ts`ï¼ˆ202 è¡Œï¼‰ä¸ `temporalMasterDetailSubmissions.ts`ï¼ˆ198 è¡Œï¼‰ã€‚
    - åç»­ï¼šå¼•å…¥æŒ‰èŒè´£åˆ’åˆ†çš„å­è§†å›¾ç»„ä»¶ï¼ˆæ—¶é—´è½´å®¹å™¨/å³ä¾§è¡¨å•å£³ï¼‰ï¼Œç›®æ ‡å°†ä¸»ç»„ä»¶æ§åˆ¶åœ¨ â‰¤260 è¡Œã€‚
   - **InlineNewVersionForm é‡æ„ç»“æœï¼ˆ2025-10-08ï¼‰**
     - æ‹†åˆ†ç»“æ„ï¼š`InlineNewVersionForm.tsx`ï¼ˆå®¹å™¨ 146 è¡Œï¼‰+ `hook/useInlineNewVersionForm.ts`ï¼ˆ232 è¡Œï¼‰+ `formActions.ts`ï¼ˆ389 è¡Œï¼‰+ 8 ä¸ªè§†å›¾/æ¶ˆæ¯ç»„ä»¶ï¼ˆå•æ–‡ä»¶ 39-141 è¡Œï¼‰ã€‚
     - åŠŸèƒ½ä¿æŒï¼šæäº¤ã€å†å²ç¼–è¾‘ã€ä½œåºŸã€ä¸Šçº§ç»„ç»‡æ ¡éªŒã€æç¤ºä¿¡æ¯å‡ç”±åŠ¨ä½œå·¥å‚é›†ä¸­ç®¡ç†ï¼Œå®¹å™¨ä»…å¤„ç†å¸ƒå±€ã€‚
     - åç»­ï¼šPhase 1 æ”¶å°¾æ—¶è¿è¡Œ `node scripts/generate-implementation-inventory.js` æ›´æ–° IIG æ•°æ®ï¼Œå¹¶åœ¨ CI ä¸­å¯ç”¨æ–‡ä»¶è§„æ¨¡ç›‘æ§ã€‚

**ç¬¬äºŒä¼˜å…ˆçº§ - æ©™ç¯åŒºåŸŸè¯„ä¼°ä¼˜åŒ–**ï¼ˆ1å‘¨ï¼‰

3. **Goåç«¯æ©™ç¯æ–‡ä»¶ä¼˜åŒ–**
   - `internal/services/temporal.go` (773è¡Œ) â†’ æ‹†åˆ†ä¸ºæœåŠ¡æ ¸å¿ƒä¸æ“ä½œé›†ï¼Œç›®æ ‡å„ â‰¤400 è¡Œã€‚
   - `internal/repository/temporal_timeline.go` (685è¡Œ) â†’ æ‹†åˆ†æŸ¥è¯¢ä¸èšåˆé€»è¾‘ï¼Œç›®æ ‡å„ â‰¤350 è¡Œã€‚
   - `internal/validators/business.go` (596è¡Œ)ã€`internal/audit/logger.go` (595è¡Œ)ã€`internal/authbff/handler.go` (589è¡Œ) â†’ ä¿æŒå•æ–‡ä»¶ï¼Œé‡ç‚¹ä¼˜åŒ–å‡½æ•°ç²’åº¦ä¸ç»“æ„æ³¨é‡Šã€‚

4. **å‰ç«¯å¤§æ–‡ä»¶åˆç†æ‹†åˆ†**
   - `OrganizationTree.tsx` (586è¡Œ â†’ ä¿æŒå•æ–‡ä»¶ï¼Œæå–å­ç»„ä»¶)
   - `useEnterpriseOrganizations.ts` (491è¡Œ â†’ ä¿æŒå•æ–‡ä»¶ï¼Œä¼˜åŒ–é€»è¾‘)
   - `unified-client.ts` (486è¡Œ â†’ ä¿æŒå•æ–‡ä»¶ï¼ŒæŒ‰åè®®åˆ†ç»„)

#### éªŒæ”¶æ ‡å‡†ï¼ˆå¯éªŒè¯ç‰ˆæœ¬ï¼‰
- **çº¢ç¯æ¶ˆé™¤**: æ‰€æœ‰æ–‡ä»¶â‰¤800è¡Œï¼ˆé€šè¿‡ `find cmd -name '*.go' -exec wc -l {} +` éªŒè¯ï¼‰
- **ç›®æ ‡å¹³å‡**: Goæ–‡ä»¶å¹³å‡â‰¤350è¡Œï¼Œå‰ç«¯TypeScriptå¹³å‡â‰¤150è¡Œ
- **å‡½æ•°ä¼˜åŒ–**: è¶…è¿‡100è¡Œçš„å‡½æ•°å‡å°‘80%ï¼ˆé€šè¿‡é™æ€åˆ†æ/ä»£ç è¯„å®¡è®°å½•éªŒè¯ï¼‰
- **è´¨é‡ä¿è¯**: ä¿æŒç°æœ‰åŠŸèƒ½100%å®Œæ•´æ€§ï¼ˆé€šè¿‡ `make test && make test-integration` éªŒè¯ï¼‰
- **æµ‹è¯•è¦†ç›–**: å•å…ƒæµ‹è¯•è¦†ç›–ç‡â‰¥80%ï¼ˆé€šè¿‡ `make coverage` éªŒè¯ï¼‰
- **å›å½’æµ‹è¯•**: å¥‘çº¦æµ‹è¯•é€šè¿‡ï¼ˆé€šè¿‡ `npm run test:contract` éªŒè¯ï¼‰
- **ä»£ç å®¡æŸ¥**: PR reviewæ—¶é—´é™ä½30%ï¼ˆåŸºäºGitHub PR metricsç»Ÿè®¡ï¼‰

### ğŸ›¡ï¸ Phase 2ï¼šç±»å‹å®‰å…¨æå‡ï¼ˆå·²å®Œæˆï¼Œ2025-10-09ï¼‰

#### ç›®æ ‡ âœ… å·²è¾¾æˆ
æ¶ˆé™¤å¼±ç±»å‹ä½¿ç”¨ï¼Œå»ºç«‹ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥æœºåˆ¶

#### æ‰§è¡Œæˆæœ
1. **any/unknownç±»å‹æ¸…ç†** âœ… å®Œæˆ
   - ä» 173 å¤„é™è‡³ **0 å¤„**ï¼ˆ100% æ¸…é›¶ï¼‰
   - å»ºç«‹ç»Ÿä¸€ç±»å‹å®šä¹‰ï¼ˆPlan 21 Batch A/B/C/D å®Œæˆï¼‰
   - å¼ºåŒ–ç±»å‹å®ˆå«ä½¿ç”¨

2. **ç±»å‹ç³»ç»Ÿå®Œå–„** âœ… å®Œæˆ
   - ç»Ÿä¸€ç±»å‹å¯¼å‡ºç´¢å¼•å·²å»ºç«‹
   - API å“åº”ç±»å‹å®šä¹‰å®Œå–„
   - è¿è¡Œæ—¶ç±»å‹éªŒè¯å·²åŠ å¼º

3. **å·¥å…·é…ç½®ä¼˜åŒ–** âœ… å®Œæˆ
   - CI/CD é›†æˆå¼±ç±»å‹æ£€æŸ¥ï¼ˆ`.github/workflows/iig-guardian.yml`ï¼‰
   - é˜ˆå€¼é—¨ç¦å·²å»ºç«‹ï¼ˆå½“å‰ 120ï¼Œå¯é™è‡³ 30ï¼‰
   - `scripts/code-smell-check-quick.sh --with-types` æŒç»­å·¡æ£€

##### 2025-10-09 å¼±ç±»å‹æ²»ç†æ‰§è¡Œç»“æœï¼ˆPlan 21 å®Œæˆï¼‰

| æ‰¹æ¬¡ | ç›®æ ‡æ¨¡å— | åŸå§‹åŸºçº¿ | æœ€ç»ˆç»“æœ | å¤„ç†ç­–ç•¥ |
|------|-----------|-----------|-----------|-----------|
| Batch A âœ… | å…±äº« API å®¢æˆ·ç«¯ | 74 å¤„ | **0 å¤„** | å»ºç«‹æ˜¾å¼é”™è¯¯ç±»å‹ä¸å“åº” DTOï¼›`Record<string, unknown>` æ›¿æ¢ä¸ºå¥‘çº¦ç±»å‹ |
| Batch B âœ… | Temporal åŠŸèƒ½ | 22 å¤„ | **0 å¤„** | å¼•å…¥é¢†åŸŸç±»å‹ï¼ˆ`TemporalTimelineEntry`, `TemporalVersionDraft`ï¼‰ï¼Œæ›¿æ¢åŠ¨æ€ payload |
| Batch C âœ… | å®¡è®¡ç»„ä»¶ | 16 å¤„ | **0 å¤„** | ç»Ÿä¸€ `AuditFieldChange` æ¥å£ã€æšä¸¾æ˜ å°„ |
| Batch D âœ… | å…±äº« Hooks/æƒé™å·¥å…·/ç»„ç»‡æ¨¡å— | 61 å¤„ | **0 å¤„** | è¡¥é½æƒé™ä¸ç»„ç»‡ç±»å‹å®šä¹‰ï¼Œæµ‹è¯•æ–‡ä»¶ç±»å‹åŒ– |
| **æ€»è®¡** | `frontend/src` å…¨èŒƒå›´ | **173 å¤„** | **0 å¤„** | **100% æ¸…é›¶ï¼Œè¶…å‡ºé¢„æœŸ** |

**å…³é”®æˆæœ**ï¼š
- âœ… å¼±ç±»å‹ä» 173 å¤„é™è‡³ 0 å¤„ï¼ˆæå‰è¾¾æˆï¼ŒåŸç›®æ ‡ â‰¤30 å¤„ï¼‰
- âœ… CI æŒç»­å·¡æ£€å·²ç”Ÿæ•ˆï¼ˆ`.github/workflows/iig-guardian.yml` é›†æˆ `--with-types`ï¼‰
- âœ… æ— éœ€è±å…æ¸…å•ï¼ˆæ‰€æœ‰å¼±ç±»å‹å‡å·²æ¶ˆé™¤ï¼ŒåŒ…æ‹¬æµ‹è¯•æ–‡ä»¶ï¼‰
- âœ… è¯¦è§å½’æ¡£æ–‡æ¡£ï¼š`../archive/development-plans/21-weak-typing-governance-plan.md`

**éªŒè¯æŠ¥å‘Š**ï¼š
- `reports/iig-guardian/code-smell-types-20251009.md`ï¼ˆæœ€ç»ˆåŸºçº¿ï¼‰
- `reports/iig-guardian/code-smell-ci-20251009.md`ï¼ˆCI æŠ¥å‘Šç¤ºä¾‹ï¼‰

#### éªŒæ”¶æ ‡å‡† âœ… å…¨éƒ¨è¾¾æˆ
- âœ… any/unknownä½¿ç”¨é™è‡³ **0 å¤„**ï¼ˆè¶…å‡ºç›®æ ‡ 30 å¤„ï¼‰
- âœ… TypeScriptç¼–è¯‘é›¶é”™è¯¯
- âœ… CI ç±»å‹æ£€æŸ¥é›†æˆå®Œæˆ
- âœ… API ç«¯ç‚¹ç±»å‹éªŒè¯è¦†ç›–ç‡ 100%

### ğŸ—ï¸ Phase 3ï¼šæ¶æ„ä¸€è‡´æ€§ä¿®å¤ï¼ˆå·²å®Œæˆï¼‰

#### ç›®æ ‡
ä¿®å¤æ¶æ„è¿è§„é—®é¢˜

#### å…·ä½“è¡ŒåŠ¨
1. **CQRSåˆ†ç¦»å¼ºåŒ–** âœ… å®Œæˆ
   - å®¡æŸ¥å¹¶ä¿®å¤æ··ç”¨åœºæ™¯ï¼›ä½¿ç”¨ `go list ./cmd/...` ä¸ `golangci-lint` import è§„åˆ™ç¡®è®¤å‘½ä»¤/æŸ¥è¯¢æœåŠ¡æ— äº¤å‰å¼•ç”¨ï¼ˆ2025-10-06ï¼‰ã€‚
   - å®Œå–„ API å¥‘çº¦ä¸€è‡´æ€§ï¼›ç›¸å…³ç»“è®ºå·²åŒæ­¥è‡³ `docs/development-plans/06-integrated-teams-progress-log.md`ï¼ˆ2025-10-06 æ›´æ–°ï¼‰ã€‚
   - åŠ å¼ºå‘½åè§„èŒƒæ‰§è¡Œï¼›å¤æ ¸å®ç°æ¸…å•ä¸ CI é—¨ç¦ï¼Œæœªå‘ç°æ–°è¿è§„ã€‚


## 5. è´£ä»»çŸ©é˜µä¸é‡Œç¨‹ç¢‘

### 5.1 è´£ä»»çŸ©é˜µ
| é˜¶æ®µ | Owner | æ”¯æŒå›¢é˜Ÿ | ä¸»è¦äº¤ä»˜ç‰© |
| --- | --- | --- | --- |
| Phase 0 | æ¶æ„ç»„ï¼ˆA. Chenï¼‰ | QAï¼ˆL. Wuï¼‰ | `code-smell-baseline-<date>.md`ã€è¿›å±•æ—¥å¿—æ›´æ–° |
| Phase 1 | æ¶æ„ç»„ï¼ˆA. Chenï¼‰ | åç«¯å›¢é˜Ÿï¼ˆB. Yangï¼‰ã€QAï¼ˆL. Wuï¼‰ | æŸ¥è¯¢/å‘½ä»¤æ‹†åˆ†å®Œæˆï¼Œå¾…æ‰§è¡Œ `go vet`ã€`make test-integration` |
| Phase 2 | å‰ç«¯å›¢é˜Ÿï¼ˆC. Zhangï¼‰ | æ¶æ„ç»„ã€QA | ç±»å‹æ²»ç†æŠ¥å‘Šã€`npm run test`/`npm run lint` ç»“æœ |
| Phase 3 | æ¶æ„ç»„ï¼ˆA. Chenï¼‰ | å¹³å°å·¥ç¨‹ï¼ˆD. Liï¼‰ | âœ… CQRS ä¾èµ–å·¡æ£€æŠ¥å‘Šã€`reports/iig-guardian/code-smell-phase3-final.md`ã€æ¶æ„åˆè§„æ€»ç»“ï¼ˆ2025-10-06ï¼‰ |

### 5.2 é‡Œç¨‹ç¢‘
| æ—¥æœŸ | é‡Œç¨‹ç¢‘ | éªŒè¯æ–¹å¼ |
| --- | --- | --- |
| 2025-10-07 | Phase 1 æ”¶å°¾éªŒè¯ | `go vet ./...`ï¼ˆå®Œæˆï¼‰+ `make test-integration`ï¼ˆå¾…æ‰§è¡Œï¼‰+ `reports/iig-guardian/code-smell-progress-20251007.md` |
| 2025-10-18 | Phase 2 å®Œæˆ | TypeScript ç±»å‹æ²»ç†æ—¥å¿— + å‰ç«¯æµ‹è¯•æŠ¥å‘Š |
| 2025-10-06 | Phase 3 å®Œæˆ | CQRS å·¡æ£€é€šè¿‡ + `reports/iig-guardian/code-smell-phase3-final.md` |

## 6. é£é™©è¯„ä¼°ä¸ç¼“è§£

### é«˜é£é™©é¡¹
1. **æ¿€è¿›é‡æ„å¼•å‘å…³é”® API å¼‚å¸¸**
   - **è§¦å‘æ¡ä»¶**: é‡æ„åå‡ºç° 5xx æˆ– E2E å…³é”®ç”¨ä¾‹å¤±è´¥
   - **é¢„é˜²æªæ–½**:
     - æ¯æ¬¡é‡æ„å‰è¿è¡Œ `make test` + `npm run test:contract`
     - é‡æ„åç«‹å³è¿è¡Œé›†æˆæµ‹è¯• `make test-integration`
     - ä¿æŒ git æ ‡ç­¾ `plan16-phaseX-taskY-before` ç”¨äºå¿«é€Ÿå›æ»š
   - **å“åº”å¯¹ç­–**: åœ¨ 4 å°æ—¶å†…å›æ»šè‡³æœ€è¿‘æ ‡ç­¾ï¼Œè¡¥å……æµ‹è¯•å¹¶å¤ç›˜ï¼›å›æ»šè®°å½•åœ¨ `reports/iig-guardian/code-smell-rollback-<date>.md`

2. **å¼€å‘æ•ˆç‡æ˜¾è‘—ä¸‹é™**
   - **è§¦å‘æ¡ä»¶**: å‘¨ä¼šä¸­æŠ¥å‘Šçš„é˜»å¡ >2 æ¬¡/å‘¨
   - **å¯¹ç­–**: ç¼©å‡å½“æœŸç›®æ ‡ï¼Œä»…å¤„ç†çº¢ç¯æ–‡ä»¶ï¼Œå…¶ä½™è°ƒåº¦è‡³åç»­è¿­ä»£ï¼›åŒæ­¥ `docs/development-plans/06`ã€‚

3. **å‰ç«¯ç±»å‹æ”¹åŠ¨å¼•å‘ç¼–è¯‘å¤±è´¥**
   - **è§¦å‘æ¡ä»¶**: Phase 2 ç±»å‹æ²»ç†å¯¼è‡´å‰ç«¯å¤§é¢ç§¯ç¼–è¯‘é”™è¯¯
   - **é¢„é˜²æªæ–½**: åˆ†æ‰¹æ¬¡æ”¹åŠ¨ï¼ˆæ¯æ‰¹â‰¤20ä¸ªæ–‡ä»¶ï¼‰ï¼Œæ¯æ‰¹åè¿è¡Œ `npm run build`
   - **å“åº”å¯¹ç­–**: å›æ»šå½“æ‰¹æ”¹åŠ¨ï¼Œé‡æ–°è®¾è®¡æ¸è¿›å¼ç±»å‹è¿ç§»è·¯å¾„

### ä¸­ç­‰é£é™©é¡¹
1. **å›¢é˜Ÿå­¦ä¹ æˆæœ¬**
   - **å¯¹ç­–**: ç»„ç»‡ Workshopï¼Œæä¾›æ‹†åˆ†æ¨¡æ¿ç¤ºä¾‹ï¼Œæ›´æ–° Review checklistã€‚

## 7. æˆåŠŸæŒ‡æ ‡ï¼ˆå¯éªŒè¯ç‰ˆæœ¬ï¼‰

### é‡åŒ–æŒ‡æ ‡ï¼ˆåŸºäºåŸºçº¿ `reports/iig-guardian/code-smell-baseline-20250929.md`ï¼‰
- **å¹³å‡æ–‡ä»¶è¡Œæ•°**: Go â‰¤ 350è¡Œï¼ˆå½“å‰312.7ï¼‰ï¼Œå‰ç«¯å¹³å‡â‰¤150è¡Œï¼ˆ2025-10-07 å®æµ‹ 147.8 âœ…ï¼‰
- **çº¢ç¯åŒºåŸŸæ–‡ä»¶**: Go 0ä¸ªï¼ˆä»“å‚¨æ‹†åˆ†å®Œæˆï¼Œæœ€å¤§ 475 è¡Œï¼‰ï¼ŒTS 0ä¸ªï¼ˆInline è¡¨å•æ‹†åˆ†å®Œæˆï¼‰
- **æ©™ç¯åŒºåŸŸæ–‡ä»¶**: â‰¤5ä¸ªï¼ˆGo ç›®æ ‡ â‰¤3ï¼ŒTS ç›®æ ‡ â‰¤5ï¼›æœ€æ–°ä»“å‚¨/æ—¶é—´è½´æ‹†åˆ†å°†æ©™ç¯å‹ç¼©è‡³ 0ï¼‰
- any/unknownç±»å‹ä½¿ç”¨ â‰¤ 30å¤„ï¼ˆå½“å‰171å¤„ï¼ŒPhase 2ç›®æ ‡ï¼‰
- å•å…ƒæµ‹è¯•è¦†ç›–ç‡ â‰¥ 80%ï¼ˆé€šè¿‡ `make coverage` éªŒè¯ï¼‰
- å¥‘çº¦æµ‹è¯•é€šè¿‡ç‡ 100%ï¼ˆé€šè¿‡ `npm run test:contract` éªŒè¯ï¼‰
- å‡½æ•°è¶…100è¡Œæ•°é‡å‡å°‘80%ï¼ˆé€šè¿‡ç›‘æ§è„šæœ¬éªŒè¯ï¼‰

### è¿‡ç¨‹æŒ‡æ ‡ï¼ˆå¯åº¦é‡ï¼‰
- **PR reviewæ—¶é—´**: é™ä½30%ï¼ˆåŸºäºGitHub PRå¹³å‡reviewæ—¶é—´ç»Ÿè®¡ï¼ŒPhaseå®Œæˆå‰åå¯¹æ¯”ï¼‰
- **å•å…ƒæµ‹è¯•ç¼–å†™é€Ÿåº¦**: æå‡ï¼ˆåŸºäºfunction:testè¡Œæ•°æ¯”ï¼Œç›®æ ‡1:0.8ä»¥ä¸Šï¼‰
- **Bugä¿®å¤å‘¨æœŸ**: é™ä½ï¼ˆåŸºäºJira/GitHub Issueå…³é—­æ—¶é—´ç»Ÿè®¡ï¼‰
- **å›¢é˜Ÿåé¦ˆ**: é€šè¿‡é—®å·è°ƒæŸ¥ï¼ˆPhase 3ç»“æŸåæ‰§è¡Œï¼‰

## 8. èµ„æºéœ€æ±‚ï¼ˆå¹³è¡¡ç‰ˆæœ¬ï¼‰

### äººåŠ›èµ„æº
- **æŠ€æœ¯æ¶æ„å¸ˆ**: 1äººï¼ˆå…¨ç¨‹æŒ‡å¯¼ï¼‰
- **åç«¯å¼€å‘å·¥ç¨‹å¸ˆ**: 2äººï¼ˆPhase 1 & Phase 3ï¼‰
- **å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ**: 2äººï¼ˆPhase 1 & Phase 2ï¼‰
- **è´¨é‡ä¿è¯å·¥ç¨‹å¸ˆ**: 1äººï¼ˆå…¨ç¨‹ï¼‰

### æ—¶é—´åˆ†é…ï¼ˆå«20%ç¼“å†²ï¼‰
- **Phase 0**: 2å¤©ï¼ˆåŸºçº¿ç¡®è®¤+å·¥å…·å‡†å¤‡ï¼‰
- **Phase 1**: 3å‘¨ï¼ˆçº¢ç¯æ–‡ä»¶é‡æ„+æµ‹è¯•ï¼Œ50%å·¥ä½œé‡ï¼‰
- **Phase 2**: 1.5å‘¨ï¼ˆç±»å‹æ²»ç†ï¼Œ30%å·¥ä½œé‡ï¼‰
- **Phase 3**: 1å‘¨ï¼ˆCQRS æ¶æ„å·¡æ£€ï¼Œ20%å·¥ä½œé‡ï¼‰
- **æ€»è®¡**: 5.5-6å‘¨ï¼ˆåŸè®¡åˆ’4-5å‘¨+20%ç¼“å†²ï¼‰

## åç»­ç»´æŠ¤è®¡åˆ’

### é¢„é˜²æªæ–½
1. **åˆç†çš„è´¨é‡é—¨ç¦**ï¼ˆå¹³è¡¡å¼€å‘æ•ˆç‡ï¼‰
2. **å›¢é˜ŸåŸ¹è®­ä¸æœ€ä½³å®è·µåˆ†äº«**
3. **ä»£ç è§„èŒƒæ–‡æ¡£åŒ–**
4. **å®šæœŸæ¶æ„è¯„å®¡**

## 9. è´¨é‡æ ‡å‡†ä¸éªŒæ”¶æ¸…å•

### å»ºç«‹Goå·¥ç¨‹å®è·µæ ‡å‡†
```markdown
é¡¹ç›®é•¿æœŸæ–‡ä»¶å¤§å°æ ‡å‡†ï¼š
- æ¨èèŒƒå›´: 200-400è¡Œ
- å¯æ¥å—èŒƒå›´: 400-600è¡Œ
- éœ€è¦è¯„ä¼°: 600-800è¡Œ
- å¼ºåˆ¶é‡æ„: >800è¡Œ

å‡½æ•°å¤æ‚åº¦æ ‡å‡†ï¼š
- æ¨è: â‰¤30è¡Œ
- å¯æ¥å—: 30-50è¡Œ
- éœ€è¦é‡æ„: >100è¡Œ
```

### éªŒæ”¶æ¸…å•
- [x] `reports/iig-guardian/code-smell-baseline-20250929.md` å·²ç”Ÿæˆï¼ˆPhase 0å®Œæˆï¼‰
- [x] `reports/iig-guardian/code-smell-progress-20251007.md` è®°å½•çº¢ç¯çŠ¶æ€å¹¶é™„å•å…ƒ/é›†æˆæµ‹è¯•ç»“æœï¼ˆGoï¼‰
- [x] `reports/iig-guardian/code-smell-types-20251007.md` æ˜¾ç¤º any/unknown ç»Ÿè®¡ï¼ˆ173 é¡¹åŸºçº¿ï¼‰
- [x] TypeScript å¹³å‡è¡Œæ•°æŠ¥å‘Šï¼ˆ2025-10-07 ç»Ÿè®¡ï¼š20243 è¡Œ / 137 æ–‡ä»¶ï¼Œå¹³å‡ 147.8 è¡Œï¼›æ¥æºï¼š`find frontend/src -type f (ts|tsx)` + `wc -l`ï¼‰
- [x] `reports/iig-guardian/code-smell-phase3-final.md` è¯æ˜æ–‡ä»¶è§„æ¨¡è„šæœ¬å·²çº³å…¥ CIï¼ˆ2025-10-06ï¼‰
- [ ] `docs/development-plans/06-integrated-teams-progress-log.md` æ¯å‘¨äº”æ›´æ–°è¿›å±•ã€é£é™©ã€é˜»å¡é¡¹ï¼ˆ2025-10-07 å·²è¡¥çŠ¶æ€ï¼Œè´£ä»»äººå¾…å¡«ï¼‰
- [x] `node scripts/generate-implementation-inventory.js` å¤è·‘å¹¶æ›´æ–°å®ç°æ¸…å•ï¼ˆ2025-10-07 æ‰§è¡Œï¼Œæ— æ–°å¢æ¼é¡¹ï¼‰
- [ ] gitæ ‡ç­¾ä½“ç³»å»ºç«‹ï¼š`plan16-phase[0-3]-baseline` å’Œ `plan16-phase[1-3]-task[N]-before`

## 10. ç›¸å…³æ–‡æ¡£

- [é¡¹ç›®æ¶æ„æŒ‡å¯¼åŸåˆ™](../../CLAUDE.md)
- [å®ç°æ¸…å•æŠ¤å«ç³»ç»Ÿ](../reference/02-IMPLEMENTATION-INVENTORY.md)
- [APIå¥‘çº¦æ–‡æ¡£](../api/openapi.yaml)
- [å¼€å‘è€…å¿«é€Ÿå‚è€ƒ](../reference/01-DEVELOPER-QUICK-REFERENCE.md)

## æ‰¹å‡†ä¸æ‰§è¡Œ

**è®¡åˆ’çŠ¶æ€**: æ‰§è¡Œä¸­
**é¢„æœŸå¼€å§‹æ—¥æœŸ**: 2025-10-01
**é¢„æœŸå®Œæˆæ—¥æœŸ**: 2025-11-08ï¼ˆåŸ2025-10-29 + 1.5å‘¨ç¼“å†²ï¼‰
**åŸºçº¿æ•°æ®**: `reports/iig-guardian/code-smell-baseline-20250929.md`ï¼ˆå”¯ä¸€äº‹å®æ¥æºï¼‰

### æ‰¹å‡†å‰ç½®æ¡ä»¶
Phase 0 å‰ç½®æ¡ä»¶å·²äº 2025-09-30 å®Œæˆï¼Œè¯æ®è§ `reports/iig-guardian/code-smell-baseline-20250929.md`ã€`scripts/code-smell-check-quick.sh` ä»¥åŠ `docs/development-plans/06-integrated-teams-progress-log.md` ä¸­çš„æ¨¡æ¿è®°å½•ã€‚

**æ‰¹å‡†äººç­¾ååŒºåŸŸ**:
- [ ] æŠ€æœ¯æ¶æ„è´Ÿè´£äººï¼ˆè¯„å®¡é‡ç‚¹ï¼šæŠ€æœ¯æ–¹æ¡ˆå¯è¡Œæ€§ã€é£é™©è¯„ä¼°å……åˆ†æ€§ï¼‰
- [ ] é¡¹ç›®ç»ç†ï¼ˆè¯„å®¡é‡ç‚¹ï¼šæ—¶é—´è¡¨åˆç†æ€§ã€èµ„æºåˆ†é…å¯è¡Œæ€§ï¼‰
- [ ] è´¨é‡ä¿è¯è´Ÿè´£äººï¼ˆè¯„å®¡é‡ç‚¹ï¼šéªŒæ”¶æ ‡å‡†å®Œæ•´æ€§ã€æµ‹è¯•ç­–ç•¥å……åˆ†æ€§ï¼‰

### Phase 0 æ”¶å°¾çŠ¶æ€
- å·¥ä½œé‡å¤æ ¸ä¼šè®®çºªè¦ï¼šPlan 19ã€ŠPlan 16 Phase 0 å·¥ä½œé‡å¤æ ¸çºªè¦ï¼ˆè¯æ®å½’æ¡£ï¼‰ã€‹ (`../archive/development-plans/19-phase0-workload-review.md`)ï¼ˆç¡®è®¤ 30% æŠ•å…¥ï¼Œçºªè¦ç”Ÿæˆæ—¶é—´ 2025-10-02 06:45 UTCï¼‰ã€‚
- Git æ ‡ç­¾ï¼š`plan16-phase0-baseline` è¿œç«¯å¯æŸ¥ï¼Œæäº¤ `718d7cf6`ã€‚
- æ—¥å¿—åŒæ­¥ï¼š`docs/development-plans/06-integrated-teams-progress-log.md` ç™»è®°å®Œæˆæ—¶é—´ 2025-09-30 10:00 UTCï¼Œè´£ä»»äººæ¶æ„ç»„ã€‚

> `.golangci.yml` ç¤ºä¾‹ä»…æä¾›æœ€å°ä¾èµ–å®ˆå«ï¼Œè¯·åœ¨æäº¤å‰æ ¹æ®å®é™…åŒ…è·¯å¾„å¢è¡¥å…¶ä»– CQRS è§„åˆ™ï¼ˆä¾‹å¦‚ç¦æ­¢æŸ¥è¯¢æœåŠ¡å¼•ç”¨å‘½ä»¤å±‚å®ç°ï¼‰ã€‚

#### ä»»åŠ¡æ¸…å•ï¼ˆæŒ‰ä¼˜å…ˆçº§æ’åºï¼‰
| åºå· | ä»»åŠ¡ | è´Ÿè´£äºº | çŠ¶æ€ | ä½è¯ |
|------|------|--------|------|------|
| 1 | å·¥ä½œé‡å¤æ ¸çºªè¦å½’æ¡£ | æ¶æ„ç»„+PM | âœ… å·²å®Œæˆ | Plan 19ã€ŠPlan 16 Phase 0 å·¥ä½œé‡å¤æ ¸çºªè¦ï¼ˆè¯æ®å½’æ¡£ï¼‰ã€‹ (`../archive/development-plans/19-phase0-workload-review.md`) |
| 2 | æ¨é€ `plan16-phase0-baseline` æ ‡ç­¾ | æ¶æ„ç»„ | âœ… å·²å®Œæˆ | `git ls-remote --tags origin plan16-phase0-baseline` = `718d7cf6` |
| 3 | æ›´æ–° 06 å·æ—¥å¿—è®°å½• | è®¡åˆ’ Owner | âœ… å·²å®Œæˆ | `docs/development-plans/06-integrated-teams-progress-log.md`ï¼ˆ2025-09-30 10:00 UTCï¼‰ |

#### éªŒæ”¶äº§ç‰©ï¼ˆå®Œæˆï¼‰
- [x] å·¥ä½œé‡å¤æ ¸ä¼šè®®çºªè¦ï¼ˆç¡®è®¤å›¢é˜Ÿæ‰¿è¯ºï¼‰
- [x] Git æ ‡ç­¾ `plan16-phase0-baseline` æ¨é€è®°å½•
- [x] 06å·æ—¥å¿— â€œPlan 16ä»£ç å¼‚å‘³æ²»ç†è¿›å±•è·Ÿè¸ªâ€ ç« èŠ‚ Phase 0 å®Œæˆä¿¡æ¯

### Phase 1å¯åŠ¨å‰æ£€æŸ¥ï¼ˆPhase 0å®Œæˆåæ‰§è¡Œï¼‰
```bash
# ä¸€é”®æ£€æŸ¥è„šæœ¬ï¼ˆPhase 0éªŒæ”¶ï¼‰
echo "=== Phase 0 éªŒæ”¶æ£€æŸ¥ ==="
echo ""

echo "=== Phase 0 é—ç•™ä»»åŠ¡æ£€æŸ¥ ==="

echo "1. æ£€æŸ¥è¿œç¨‹åŸºçº¿æ ‡ç­¾..."
git ls-remote --tags origin plan16-phase0-baseline >/dev/null 2>&1 && echo "âœ… å·²æ¨é€ plan16-phase0-baseline" || echo "âŒ æœªæ‰¾åˆ°è¿œç¨‹æ ‡ç­¾"

echo ""
echo "2. æ£€æŸ¥ 06 å·æ—¥å¿—è®°å½•..."
grep -q "Phase 0 å®Œæˆæ—¶é—´" docs/development-plans/06-integrated-teams-progress-log.md && echo "âœ… å·²ç™»è®° Phase 0 å®Œæˆä¿¡æ¯" || echo "âŒ å¾…è¡¥ Phase 0 è®°å½•"

echo ""
echo "=== æ‰€æœ‰é¡¹ç›®é€šè¿‡åï¼Œå¯å¼€å§‹ Phase 1 å…¨é‡æ‰§è¡Œ ==="
```

### é¦–æ¬¡å‘¨äº”åŒæ­¥æé†’ï¼ˆ2025-10-04ï¼‰
åœ¨é¦–æ¬¡å‘¨äº”åŒæ­¥ä¼šè®®ä¸Šï¼Œè¯·æ›´æ–°ä»¥ä¸‹å†…å®¹è‡³06å·æ—¥å¿—ï¼š
- å¡«å†™è¿›å±•è¡¨æ ¼ç¬¬ä¸€è¡Œï¼ˆW1å®Œæˆä»»åŠ¡ã€çº¢ç¯æ–‡ä»¶æ•°ã€é˜»å¡é¡¹ã€é£é™©å˜åŒ–ï¼‰
- ç¡®è®¤Phase 1ä»»åŠ¡åˆ†é…ï¼ˆmain.goæ‹†åˆ†è´Ÿè´£äººã€é¢„è®¡å®Œæˆæ—¥æœŸï¼‰
- è¯†åˆ«å¹¶è®°å½•ä»»ä½•æ–°é£é™©æˆ–é˜»å¡é¡¹

### è¯„å®¡æ”¯æŒææ–™
- **åŸºçº¿æ•°æ®å¯è§†åŒ–**: è¿è¡Œ `bash scripts/code-smell-check-quick.sh` æŸ¥çœ‹å½“å‰çº¢ç¯æ–‡ä»¶
- **å†å²å¯¹æ¯”**: å‚è€ƒ `docs/development-plans/06-integrated-teams-progress-log.md` äº†è§£è¿‡å¾€Planæ‰§è¡Œæƒ…å†µ
- **æ¶æ„åŸåˆ™**: å‚è€ƒ `CLAUDE.md` ç¬¬2èŠ‚æ ¸å¿ƒå¼€å‘æŒ‡å¯¼åŸåˆ™
- **å¼€å‘è§„èŒƒ**: å‚è€ƒ `docs/reference/01-DEVELOPER-QUICK-REFERENCE.md` äº†è§£å›¢é˜Ÿå·¥ä½œæµ

---

*æœ¬è®¡åˆ’éµå¾ªGoè¯­è¨€å·¥ç¨‹å®è·µçš„è¡Œä¸šæ ‡å‡†ï¼Œè‡´åŠ›äºå»ºç«‹å¹³è¡¡è´¨é‡ä¸å®ç”¨æ€§çš„é«˜è´¨é‡ä»£ç åº“ã€‚é€šè¿‡åˆ†çº§ç®¡ç†ç­–ç•¥ï¼Œæ—¢ä¿è¯äº†ä»£ç è´¨é‡æå‡ï¼Œåˆè€ƒè™‘äº†å›¢é˜Ÿå¼€å‘æ•ˆç‡å’Œé€‚åº”æ€§ã€‚*

*è¯„å®¡å®Œæˆåï¼Œè¯·åœ¨æ‰¹å‡†äººç­¾ååŒºåŸŸå‹¾é€‰å¹¶è®°å½•æ‰¹å‡†æ—¥æœŸï¼Œå¹¶ä¾æ®â€œPhase 0 é—ç•™ä»»åŠ¡â€æ¸…å•å®Œæˆæ”¶å°¾ï¼Œå†è¿›å…¥ Phase 1ã€‚*
