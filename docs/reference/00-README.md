# Cube Castle 参考文档目录

此目录包含项目的核心参考文档，为开发者提供完整的技术文档支持。

---

## 📚 文档清单

### ⚡ [01. 开发者快速参考](./01-DEVELOPER-QUICK-REFERENCE.md)
**用途**: 开发过程中的快速查阅手册  
**包含内容**:
- 开发前必检清单
- 常用命令速查表
- 端口配置参考
- API端点速查
- 前端组件速查
- 错误排查指南
- 代码规范速查

**使用场景**:
- ✅ 日常开发快速查阅
- ✅ 新团队成员快速上手
- ✅ 问题排查和调试

### 🏗️ [02. 实现清单](./02-IMPLEMENTATION-INVENTORY.md)
**用途**: 项目完整实现清单，避免重复造轮子  
**包含内容**:
- 25个REST API端点 (10个核心业务 + 8个系统管理 + 7个开发工具)
- 12个GraphQL查询字段
- 40个Go后端关键组件 (26个处理器 + 14个服务类型)
- 120+个前端导出项 (API、Hook、工具、配置等)
- 重复造轮子风险分析和防范指导

**使用场景**: 
- ✅ 开发新功能前必检，避免重复实现
- ✅ 了解项目现有能力和架构
- ✅ 寻找可复用的组件和工具

### 📖 [03. API使用指南](./03-API-USAGE-GUIDE.md)
**用途**: 详细的API使用指导文档  
**包含内容**:
- CQRS架构说明和最佳实践
- JWT认证和授权配置
- REST命令API详细使用方法
- GraphQL查询API完整示例
- 前端集成指南和Hook使用
- 错误处理和调试技巧

**使用场景**:
- ✅ 前端开发者集成API
- ✅ 后端开发者理解API设计
- ✅ 学习CQRS架构最佳实践

---

## 🚀 快速开始

### 新开发者上手顺序
1. **先读** [01. 开发者快速参考](./01-DEVELOPER-QUICK-REFERENCE.md) - 了解基本开发流程
2. **再看** [02. 实现清单](./02-IMPLEMENTATION-INVENTORY.md) - 了解项目现有功能
3. **最后** [03. API使用指南](./03-API-USAGE-GUIDE.md) - 深入学习API使用

### 开发前必做事项
```bash
# 1. 检查现有实现，避免重复造轮子
node scripts/generate-implementation-inventory.js

# 2. 启动开发环境
make docker-up && make run-dev && make frontend-dev

# 3. 生成开发JWT令牌
make jwt-dev-mint USER_ID=dev TENANT_ID=default ROLES=ADMIN,USER
```

---

## 🎯 核心开发原则提醒

### 🚨 **绝对禁止** (来自CLAUDE.md)
- ❌ 跳过实现清单检查就开始开发
- ❌ 重复创建已有的API/函数/组件  
- ❌ 混用CQRS协议 (GraphQL命令/REST查询)
- ❌ 硬编码端口配置
- ❌ 使用snake_case字段命名

### ✅ **必须遵守**
- ✅ 查询用GraphQL (8090)，命令用REST (9090)
- ✅ 统一使用camelCase字段命名
- ✅ 优先使用现有资源，避免重复造轮子
- ✅ 所有API调用包含认证头和租户ID

### 🛡️ [04. P3企业级防控系统手册](./04-p3-defense-system-manual.md)
**用途**: P3防控系统完整使用手册和操作指南
**包含内容**:
- P3三大防控系统使用指南(重复检测/架构验证/文档同步)
- 开发者日常质量检查流程
- CI/CD质量门禁配置和操作
- 故障排除和问题解决方案

**使用场景**:
- ✅ 代码提交前质量检查和验证
- ✅ 质量工具配置、使用和维护
- ✅ 质量问题排查和系统故障解决

---

### 🛡️ [05. IIG护卫使用指南](./05-iig-guardian-usage-guide.md)
**用途**: Implementation Inventory Guardian（实现清单护卫）的使用与集成
**包含内容**:
- 预开发强制检查流程与执行方法
- 重复检测与架构一致性的联动说明
- 与 CI/CD 的集成与本地开发流程

**使用场景**:
- ✅ 新功能开始前的能力检索与登记
- ✅ 代码评审前的功能登记核验
- ✅ 契约与实现同步校验

## 📊 项目统计摘要

### 实现规模
- **后端**: 25个API端点 + 40个关键组件
- **前端**: 120+个导出项 (完整的企业级前端架构)
- **架构**: CQRS + PostgreSQL原生 + 企业级监控
- **质量**: 契约测试 + 重复代码检测 + 架构验证

### 技术特点
- ✅ **PostgreSQL单一数据源**: 性能提升70-90%
- ✅ **企业级CQRS架构**: 查询/命令完全分离
- ✅ **完整时态数据支持**: 历史版本查询和管理
- ✅ **质量门禁体系**: 自动化契约测试和代码质量保证

---

## 🔗 相关资源

### 核心规范文档
- [API契约规范](../api/) - OpenAPI和GraphQL Schema
- [开发计划文档](../development-plans/) - 项目架构和规划
- [项目指导原则](../../CLAUDE.md) - 开发规范和原则

### 开发工具
- GraphiQL调试界面: http://localhost:8090/graphiql
- Grafana监控面板: http://localhost:3001
- 实现清单生成器: `node scripts/generate-implementation-inventory.js`

---

## 📝 文档维护

### 更新频率
- **实现清单**: 每次新增功能后自动更新
- **API指南**: API变更时手动更新
- **快速参考**: 月度例行更新

### 维护责任
- **架构组**: 负责文档整体维护和版本管理
- **开发团队**: 负责相关模块文档的及时更新
- **质量团队**: 负责文档质量检查和一致性验证

### 反馈渠道
如发现文档问题或需要补充内容，请：
1. 在项目issue中提出文档改进建议
2. 直接提交文档PR进行修正
3. 在团队会议中讨论文档规范

---

*这些文档是项目开发的重要参考，请保持最新并合理使用！*

*最后更新: 2025-09-09 | 维护团队: Cube Castle架构组*
