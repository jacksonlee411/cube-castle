# 职位/组织多页签详情设计规范（DS-147）

**版本**: v0.1  
**更新时间**: 2025-10-20  
**适用范围**: 职位管理、组织架构模块的“列表 → 多页签详情”流程

---

## 1. 信息架构

1. **入口**：列表页点击行或“管理”按钮进入 `/positions/:code`、`/organizations/:code/temporal`。
2. **页面结构**：
   - 左侧 320px 版本导航（桌面端），含时间轴与版本列表。
   - 右侧主体采用六个页签，顺序固定：概览 → 任职记录 → 调动记录 → 时间线 → 版本历史 → 审计历史。
   - 顶部工具栏（右侧）提供返回、编辑、版本创建按钮，依据权限/Mock 模式控制可见性。
3. **窄屏表现**：宽度 <960px 时，版本导航折叠为抽屉，由按钮触发；页签改为横向滚动。

## 2. 交互准则

| 区域 | 交互说明 |
|------|----------|
| 版本导航 | 点击节点切换 `selectedVersion`，同时同步时间轴高亮；抽屉模式下选择后自动关闭。 |
| 页签栏 | Canvas `Flex` + 自定义底边高亮，支持键盘导航（左右切换、Enter 激活）。 |
| Mock 模式 | 顶部显示橙色 Banner，禁用“创建/编辑/新增版本”按钮；按钮需有 `data-testid` 便于测试。 |
| 审计页签 | 若缺少 `recordId`，显示提示卡片，避免发起无效请求。 |
| 列表空态 | 所有列表（任职/调动/版本）统一使用浅灰文案 `暂无 XXX 记录`。 |

## 3. 视觉要求

1. **配色**：沿用 Canvas token；Banner 使用 `cinnamon100`/`cinnamon600`，选中行 `soap200`。
2. **状态标签**：复用 `getTemporalEntityStatusMeta('position', status)` 与组织模块共享配置；计划版本=“计划”，当前=“当前”。
3. **间距**：页内使用 `SimpleStack` 控制垂直间距，默认 `24px`；左侧卡片与右侧主体间距 `space.l`。
4. **响应式**：
   - 1280px 桌面：左栏 320px，右侧内容宽度自适应。
   - 960–1279px：左栏 260px，页签字体保持 `body.medium`。
   - <960px：左栏隐藏，提供“选择其他版本”按钮。

## 4. 可访问性

1. 所有交互元素使用 `button`/`a` 原生标签或支持 `role=button` + 键盘操作。
2. 版本行应有 `aria-selected`，与时间轴保持一致。
3. Tab 导航支持键盘左右切换，焦点状态可见。
4. Mock 提示使用文本描述原因及解法，不仅依赖颜色。

## 5. 资产与交付

| 文件 | 说明 |
|------|------|
| `frontend/artifacts/layout/positions-tabs.png` | 桌面端 1280px 视图（含侧栏与页签） |
| `frontend/artifacts/layout/positions-tabs-compact.png` | 窄屏响应式折叠示意 |
| `frontend/artifacts/layout/positions-mock-warning.png` | Mock Banner 样式参考 |

> 若设计更新，请同步替换上述截图并在 06 号日志记录时间戳。

## 6. 共通规范对齐

- 字段命名、颜色、状态标签与 `docs/reference/job-catalog-navigation-guide.md`、94 号评审保持一致。
- 任职/调动/版本列表结构与组织模块复用相同组件，以减少重复设计。
- 若需新增页签或状态，必须先更新 API 契约（参见 95 号文档）再调整此规范。

---

**维护者**：设计团队 · 职位域  
**反馈渠道**：在 06 号日志“设计规范”条目下留言或通过设计评审会议同步。
