> 环境要求：本地与 CI 必须使用 Go 1.24 及以上（仓库 `toolchain go1.24.9`），操作前请执行 `go version` 确认。

## Draft – Command API (from OpenAPI)
- `/api/v1/operational/health`
- `/api/v1/operational/metrics`
- `/api/v1/operational/alerts`
- `/api/v1/operational/rate-limit/stats`
- `/api/v1/operational/tasks`
- `/api/v1/operational/tasks/status`
- `/api/v1/operational/tasks/{taskName}/trigger`
- `/api/v1/operational/cutover`
- `/api/v1/operational/consistency-check`
- `/auth/login`
- `/auth/callback`
- `/auth/session`
- `/auth/refresh`
- `/auth/logout`
- `/.well-known/oidc`
- `/.well-known/jwks.json`
- `/api/v1/organization-units`
- `/api/v1/organization-units/{code}`
- `/api/v1/organization-units/{code}/versions`
- `/api/v1/organization-units/{code}/events`
- `/api/v1/organization-units/{code}/suspend`
- `/api/v1/organization-units/{code}/activate`
- `/api/v1/organization-units/validate`
- `/api/v1/organization-units/{code}/refresh-hierarchy`
- `/api/v1/organization-units/batch-refresh-hierarchy`
- `/api/v1/corehr/organizations`
- `/api/v1/positions`
- `/api/v1/positions/{code}`
- `/api/v1/positions/{code}/versions`
- `/api/v1/positions/{code}/events`
- `/api/v1/positions/{code}/fill`
- `/api/v1/positions/{code}/vacate`
- `/api/v1/positions/{code}/transfer`
- `/api/v1/job-family-groups`
- `/api/v1/job-family-groups/{code}`
- `/api/v1/job-family-groups/{code}/versions`
- `/api/v1/job-families`
- `/api/v1/job-families/{code}`
- `/api/v1/job-families/{code}/versions`
- `/api/v1/job-roles`
- `/api/v1/job-roles/{code}`
- `/api/v1/job-roles/{code}/versions`
- `/api/v1/job-levels`
- `/api/v1/job-levels/{code}`
- `/api/v1/job-levels/{code}/versions`
- `/api/v1/job-catalog/sync`

## Draft – GraphQL Queries (from schema.graphql)
- `organizations`
- `organization`
- `organizationStats`
- `organizationHierarchy`
- `organizationSubtree`
- `hierarchyStatistics`
- `positions`
- `position`
- `positionTimeline`
- `positionAssignments`
- `vacantPositions`
- `positionTransfers`
- `positionHeadcountStats`
- `auditHistory`
- `auditLog`
- `organizationVersions`
- `jobFamilyGroups`
- `jobFamilies`
- `jobRoles`
- `jobLevels`

## Draft – Business Validator Chains
- Source of truth: `internal/organization/README.md#validators`
- Purpose: 219C2 计划下的 `BusinessRuleValidator` 链式框架、规则矩阵与错误码映射（REST/GraphQL/批处理共享）。
- Deliveries to date:
  - `internal/organization/validator/core.go` 链式执行骨架 & `organization_rules.go` 封装 ORG-* P0 规则。
  - Handler 层统一错误翻译、审计联动（`organization_helpers.go`、`organization_create.go`）。
  - 文档/契约同步：README 规则矩阵冻结、OpenAPI `ValidatorRuleId/ValidatorErrorCode`、`logs/219C2/rule-freeze.md`。
  - OpenAPI 已登记 ORG-TEMPORAL 规则标识，新增错误码 `INVALID_PARENT` / `ORG_TEMPORAL_PARENT_INACTIVE` 与验证链对齐。
  - 219C2C 交付：`position_assignment_validation.go`/`position_assignment_validation_test.go` 实现 POS-ORG / POS-HEADCOUNT / POS-JC-LINK / ASSIGN-STATE / ASSIGN-FTE / CROSS-ACTIVE，`CommandModule` 默认注入链式验证器。
- Pending deliverables:
  - GraphQL Mutation 接入职位/任职验证链（按 219C2D 排期）。
  - Validator 包覆盖率提升至 ≥80%（当前 `go test -cover ./internal/organization/validator` ≈78%，剩余为 Stub 与未接入 GraphQL 的辅助函数）。

## Draft – Go Handlers (exported methods)
- SetupRoutes — cmd/organization-command-service/internal/handlers/devtools.go
- GenerateDevToken — cmd/organization-command-service/internal/handlers/devtools.go
- GetTokenInfo — cmd/organization-command-service/internal/handlers/devtools.go
- DevStatus — cmd/organization-command-service/internal/handlers/devtools.go
- ListTestEndpoints — cmd/organization-command-service/internal/handlers/devtools.go
- DatabaseStatus — cmd/organization-command-service/internal/handlers/devtools.go
- PerformanceMetrics — cmd/organization-command-service/internal/handlers/devtools.go
- TestAPI — cmd/organization-command-service/internal/handlers/devtools.go
- SetupRoutes — cmd/organization-command-service/internal/handlers/job_catalog_handler.go
- CreateJobFamilyGroup — cmd/organization-command-service/internal/handlers/job_catalog_handler.go
- CreateJobFamilyGroupVersion — cmd/organization-command-service/internal/handlers/job_catalog_handler.go
- CreateJobFamily — cmd/organization-command-service/internal/handlers/job_catalog_handler.go
- CreateJobFamilyVersion — cmd/organization-command-service/internal/handlers/job_catalog_handler.go
- CreateJobRole — cmd/organization-command-service/internal/handlers/job_catalog_handler.go
- CreateJobRoleVersion — cmd/organization-command-service/internal/handlers/job_catalog_handler.go
- CreateJobLevel — cmd/organization-command-service/internal/handlers/job_catalog_handler.go
- CreateJobLevelVersion — cmd/organization-command-service/internal/handlers/job_catalog_handler.go
- SetupRoutes — cmd/organization-command-service/internal/handlers/operational.go
- GetRateLimitStats — cmd/organization-command-service/internal/handlers/operational.go
- GetHealth — cmd/organization-command-service/internal/handlers/operational.go
- GetMetrics — cmd/organization-command-service/internal/handlers/operational.go
- GetAlerts — cmd/organization-command-service/internal/handlers/operational.go
- GetTasks — cmd/organization-command-service/internal/handlers/operational.go
- GetTaskStatus — cmd/organization-command-service/internal/handlers/operational.go
- TriggerTask — cmd/organization-command-service/internal/handlers/operational.go
- TriggerCutover — cmd/organization-command-service/internal/handlers/operational.go
- TriggerConsistencyCheck — cmd/organization-command-service/internal/handlers/operational.go
- CreateOrganization — cmd/organization-command-service/internal/handlers/organization_create.go
- CreateOrganizationVersion — cmd/organization-command-service/internal/handlers/organization_create.go
- CreateOrganizationEvent — cmd/organization-command-service/internal/handlers/organization_events.go
- UpdateHistoryRecord — cmd/organization-command-service/internal/handlers/organization_history.go
- SetupRoutes — cmd/organization-command-service/internal/handlers/organization_routes.go
- UpdateOrganization — cmd/organization-command-service/internal/handlers/organization_update.go
- SuspendOrganization — cmd/organization-command-service/internal/handlers/organization_update.go
- ActivateOrganization — cmd/organization-command-service/internal/handlers/organization_update.go
- SetupRoutes — cmd/organization-command-service/internal/handlers/position_handler.go
- CreatePosition — cmd/organization-command-service/internal/handlers/position_handler.go
- ReplacePosition — cmd/organization-command-service/internal/handlers/position_handler.go
- CreatePositionVersion — cmd/organization-command-service/internal/handlers/position_handler.go
- FillPosition — cmd/organization-command-service/internal/handlers/position_handler.go
- VacatePosition — cmd/organization-command-service/internal/handlers/position_handler.go
- TransferPosition — cmd/organization-command-service/internal/handlers/position_handler.go
- ApplyPositionEvent — cmd/organization-command-service/internal/handlers/position_handler.go

## Draft – Go Services (exported types)
- CascadeUpdateService — cmd/organization-command-service/internal/services/cascade.go
- CascadeTask — cmd/organization-command-service/internal/services/cascade.go
- JobCatalogService — cmd/organization-command-service/internal/services/job_catalog_service.go
- OperationalScheduler — cmd/organization-command-service/internal/services/operational_scheduler.go
- ScheduledTask — cmd/organization-command-service/internal/services/operational_scheduler.go
- OrganizationTemporalService — cmd/organization-command-service/internal/services/organization_temporal_service.go
- TemporalCreateVersionRequest — cmd/organization-command-service/internal/services/organization_temporal_service.go
- TemporalUpdateVersionRequest — cmd/organization-command-service/internal/services/organization_temporal_service.go
- TemporalDeleteVersionRequest — cmd/organization-command-service/internal/services/organization_temporal_service.go
- TemporalStatusChangeRequest — cmd/organization-command-service/internal/services/organization_temporal_service.go
- PositionService — cmd/organization-command-service/internal/services/position_service.go
- TemporalService — cmd/organization-command-service/internal/services/temporal.go
- InsertVersionRequest — cmd/organization-command-service/internal/services/temporal.go
- OrganizationData — cmd/organization-command-service/internal/services/temporal.go
- DeleteVersionRequest — cmd/organization-command-service/internal/services/temporal.go
- ChangeEffectiveDateRequest — cmd/organization-command-service/internal/services/temporal.go
- SuspendActivateRequest — cmd/organization-command-service/internal/services/temporal.go
- VersionResponse — cmd/organization-command-service/internal/services/temporal.go
- TemporalMonitor — cmd/organization-command-service/internal/services/temporal_monitor.go
- MonitoringMetrics — cmd/organization-command-service/internal/services/temporal_monitor.go
- AlertRule — cmd/organization-command-service/internal/services/temporal_monitor.go

## Draft – Frontend Exports (classes/functions/const)
- [const] cubecastleBrandTokens — frontend/src/design-system/tokens/brand.ts
- [const] ORGANIZATION_UNIT_TYPES — frontend/src/features/organizations/constants/formConfig.ts
- [const] ORGANIZATION_STATUSES — frontend/src/features/organizations/constants/formConfig.ts
- [const] BUSINESS_STATUSES — frontend/src/features/organizations/constants/formConfig.ts
- [const] ORGANIZATION_LEVELS — frontend/src/features/organizations/constants/formConfig.ts
- [const] FORM_DEFAULTS — frontend/src/features/organizations/constants/formConfig.ts
- [const] PAGINATION_DEFAULTS — frontend/src/features/organizations/constants/formConfig.ts
- [const] TABLE_COLUMNS — frontend/src/features/organizations/constants/tableConfig.ts
- [const] STATUS_COLORS — frontend/src/features/organizations/constants/tableConfig.ts
- [const] LOADING_STATES — frontend/src/features/organizations/constants/tableConfig.ts
- [const] fetchOrganizationVersions — frontend/src/features/temporal/components/hooks/temporalMasterDetailApi.ts
- [const] fetchHierarchyPaths — frontend/src/features/temporal/components/hooks/temporalMasterDetailApi.ts
- [const] deactivateOrganizationVersion — frontend/src/features/temporal/components/hooks/temporalMasterDetailApi.ts
- [const] createOrganizationUnit — frontend/src/features/temporal/components/hooks/temporalMasterDetailApi.ts
- [const] createTemporalVersion — frontend/src/features/temporal/components/hooks/temporalMasterDetailApi.ts
- [const] updateHistoryRecord — frontend/src/features/temporal/components/hooks/temporalMasterDetailApi.ts
- [const] createLoadVersions — frontend/src/features/temporal/components/hooks/temporalMasterDetailLoaders.ts
- [const] createHandleVersionSelect — frontend/src/features/temporal/components/hooks/temporalMasterDetailLoaders.ts
- [const] createHandleStateMutationCompleted — frontend/src/features/temporal/components/hooks/temporalMasterDetailMutations.ts
- [const] createHandleDeleteVersion — frontend/src/features/temporal/components/hooks/temporalMasterDetailMutations.ts
- [const] createHandleDeleteOrganization — frontend/src/features/temporal/components/hooks/temporalMasterDetailMutations.ts
- [component] CardContainer — frontend/src/shared/components/CardContainer.tsx
- [const] createHandleFormSubmit — frontend/src/features/temporal/components/hooks/temporalMasterDetailSubmissions.ts
- [const] createHandleHistoryEditSubmit — frontend/src/features/temporal/components/hooks/temporalMasterDetailSubmissions.ts
- [const] useTemporalMasterDetail — frontend/src/features/temporal/components/hooks/useTemporalMasterDetail.ts
- [const] createFormActions — frontend/src/features/temporal/components/inlineNewVersionForm/formActions.ts
- [const] mapLifecycleStatusToOrganizationStatus — frontend/src/features/temporal/components/inlineNewVersionForm/utils.ts
- [const] getCurrentMonthFirstDay — frontend/src/features/temporal/components/inlineNewVersionForm/utils.ts
- [const] computeEditDateRange — frontend/src/features/temporal/components/inlineNewVersionForm/utils.ts
- [const] formatDisplayDate — frontend/src/features/temporal/components/inlineNewVersionForm/utils.ts
- [const] normalizeInitialData — frontend/src/features/temporal/components/inlineNewVersionForm/utils.ts
- [component] PositionTemporalPage — frontend/src/features/positions/PositionTemporalPage.tsx
- [component] TabsNavigation — frontend/src/features/positions/PositionTemporalPage.tsx
- [component] PositionOverviewCard — frontend/src/features/positions/components/PositionDetails.tsx
- [component] PositionAssignmentsPanel — frontend/src/features/positions/components/PositionDetails.tsx
- [component] PositionTransfersPanel — frontend/src/features/positions/components/PositionDetails.tsx
- [component] PositionTimelinePanel — frontend/src/features/positions/components/PositionDetails.tsx
- [component] PositionVersionToolbar — frontend/src/features/positions/components/versioning/VersionToolbar.tsx
- [component] PositionVersionList — frontend/src/features/positions/components/versioning/VersionList.tsx
- [function] sortPositionVersions — frontend/src/features/positions/timelineAdapter.ts
- [function] createTimelineVersion — frontend/src/features/positions/timelineAdapter.ts
- [component] AuditHistorySection — frontend/src/features/audit/components/AuditHistorySection.tsx
- [service] AuditLogger — internal/organization/audit/logger.go （统一审计事件模型、事务写入、businessContext 聚合）
- [test] audit logger tests — internal/organization/audit/logger_test.go （覆盖事务插入、fallback 资源 ID、错误 payload）
- [const] deriveCodePath — frontend/src/features/temporal/components/inlineNewVersionForm/utils.ts
- [const] deriveNamePath — frontend/src/features/temporal/components/inlineNewVersionForm/utils.ts
- [const] TEMPORAL_STATUS_COLORS — frontend/src/features/temporal/constants/temporalStatus.ts
- [const] temporalStatusUtils — frontend/src/features/temporal/constants/temporalStatus.ts
- [const] TEMPORAL_CONSTANTS — frontend/src/features/temporal/index.ts
- [const] temporalUtils — frontend/src/features/temporal/index.ts
- [class] AuthManager — frontend/src/shared/api/auth.ts
- [const] TOKEN_STORAGE_KEY — frontend/src/shared/api/auth.ts
- [const] authManager — frontend/src/shared/api/auth.ts
- [const] contractTestingAPI — frontend/src/shared/api/contract-testing.ts
- [class] APIErrorImpl — frontend/src/shared/api/error-handling.ts
- [class] OAuthError — frontend/src/shared/api/error-handling.ts
- [class] ErrorHandler — frontend/src/shared/api/error-handling.ts
- [class] UserFriendlyError — frontend/src/shared/api/error-handling.ts
- [const] isUserFriendlyError — frontend/src/shared/api/error-handling.ts
- [const] isOAuthError — frontend/src/shared/api/error-handling.ts
- [const] withErrorHandling — frontend/src/shared/api/error-handling.ts
- [const] useErrorHandler — frontend/src/shared/api/error-handling.ts
- [const] withRetry — frontend/src/shared/api/error-handling.ts
- [const] withOAuthRetry — frontend/src/shared/api/error-handling.ts
- [const] withOAuthAwareErrorHandling — frontend/src/shared/api/error-handling.ts
- [const] UnifiedErrorHandler — frontend/src/shared/api/error-handling.ts
- [func] getErrorMessage — frontend/src/shared/api/error-messages.ts
- [func] formatErrorForUser — frontend/src/shared/api/error-messages.ts
- [const] SUCCESS_MESSAGES — frontend/src/shared/api/error-messages.ts
- [class] GraphQLEnterpriseAdapter — frontend/src/shared/api/graphql-enterprise-adapter.ts
- [const] graphqlEnterpriseAdapter — frontend/src/shared/api/graphql-enterprise-adapter.ts
- [const] useEnterpriseGraphQL — frontend/src/shared/api/graphql-enterprise-adapter.ts
- [const] monitoringAPI — frontend/src/shared/api/monitoring.ts
- [const] queryClient — frontend/src/shared/api/queryClient.ts
- [const] queryMetrics — frontend/src/shared/api/queryClient.ts
- [const] createQueryError — frontend/src/shared/api/queryClient.ts
- [const] __internal — frontend/src/shared/api/queryClient.ts
- [class] ValidationError — frontend/src/shared/api/type-guards.ts
- [const] validateOrganizationUnit — frontend/src/shared/api/type-guards.ts
- [const] validateCreateOrganizationInput — frontend/src/shared/api/type-guards.ts
- [const] validateUpdateOrganizationInput — frontend/src/shared/api/type-guards.ts
- [const] validateCreateOrganizationResponse — frontend/src/shared/api/type-guards.ts
- [const] validateGraphQLVariables — frontend/src/shared/api/type-guards.ts
- [const] validateGraphQLOrganizationResponse — frontend/src/shared/api/type-guards.ts
- [const] validateGraphQLOrganizationList — frontend/src/shared/api/type-guards.ts
- [const] isGraphQLError — frontend/src/shared/api/type-guards.ts
- [const] isGraphQLSuccessResponse — frontend/src/shared/api/type-guards.ts
- [const] isAPIError — frontend/src/shared/api/type-guards.ts
- [const] isValidationError — frontend/src/shared/api/type-guards.ts
- [const] isNetworkError — frontend/src/shared/api/type-guards.ts
- [const] safeTransformGraphQLToOrganizationUnit — frontend/src/shared/api/type-guards.ts
- [const] safeTransformCreateInputToAPI — frontend/src/shared/api/type-guards.ts
- [class] UnifiedGraphQLClient — frontend/src/shared/api/unified-client.ts
- [class] UnifiedRESTClient — frontend/src/shared/api/unified-client.ts
- [class] UnauthenticatedRESTClient — frontend/src/shared/api/unified-client.ts
- [const] unifiedGraphQLClient — frontend/src/shared/api/unified-client.ts
- [const] unifiedRESTClient — frontend/src/shared/api/unified-client.ts
- [const] unauthenticatedRESTClient — frontend/src/shared/api/unified-client.ts
- [const] createGraphQLClient — frontend/src/shared/api/unified-client.ts
- [const] createRESTClient — frontend/src/shared/api/unified-client.ts
- [const] validateCQRSUsage — frontend/src/shared/api/unified-client.ts
- [const] AuthContext — frontend/src/shared/auth/context.ts
- [const] AUTH_UNAUTHORIZED — frontend/src/shared/auth/events.ts
- [const] authEvents — frontend/src/shared/auth/events.ts
- [const] useAuth — frontend/src/shared/auth/hooks.ts
- [const] NavigationItem — frontend/src/layout/NavigationItem.tsx
- [type] NavigationItemConfig — frontend/src/layout/NavigationItem.tsx
- [const] Sidebar — frontend/src/layout/Sidebar.tsx
- [const] CatalogTable — frontend/src/features/job-catalog/shared/CatalogTable.tsx
- [const] CatalogFilters — frontend/src/features/job-catalog/shared/CatalogFilters.tsx
- [const] CatalogForm — frontend/src/features/job-catalog/shared/CatalogForm.tsx
- [const] CatalogVersionForm — frontend/src/features/job-catalog/shared/CatalogVersionForm.tsx
- [const] StatusBadge — frontend/src/features/job-catalog/shared/StatusBadge.tsx
- [const] JobFamilyGroupList — frontend/src/features/job-catalog/family-groups/JobFamilyGroupList.tsx
- [const] JobFamilyGroupDetail — frontend/src/features/job-catalog/family-groups/JobFamilyGroupDetail.tsx
- [const] JobFamilyGroupForm — frontend/src/features/job-catalog/family-groups/JobFamilyGroupForm.tsx
- [const] JobFamilyList — frontend/src/features/job-catalog/families/JobFamilyList.tsx
- [const] JobFamilyDetail — frontend/src/features/job-catalog/families/JobFamilyDetail.tsx
- [const] JobFamilyForm — frontend/src/features/job-catalog/families/JobFamilyForm.tsx
- [const] JobRoleList — frontend/src/features/job-catalog/roles/JobRoleList.tsx
- [const] JobRoleDetail — frontend/src/features/job-catalog/roles/JobRoleDetail.tsx
- [const] JobRoleForm — frontend/src/features/job-catalog/roles/JobRoleForm.tsx
- [const] JobLevelList — frontend/src/features/job-catalog/levels/JobLevelList.tsx
- [const] JobLevelDetail — frontend/src/features/job-catalog/levels/JobLevelDetail.tsx
- [const] JobLevelForm — frontend/src/features/job-catalog/levels/JobLevelForm.tsx
- [const] useJobFamilyGroups — frontend/src/shared/hooks/useJobCatalog.ts
- [const] useJobFamilies — frontend/src/shared/hooks/useJobCatalog.ts
- [const] useJobRoles — frontend/src/shared/hooks/useJobCatalog.ts
- [const] useJobLevels — frontend/src/shared/hooks/useJobCatalog.ts
- [const] useCreateJobFamilyGroup — frontend/src/shared/hooks/useJobCatalogMutations.ts
- [const] useUpdateJobFamilyGroup — frontend/src/shared/hooks/useJobCatalogMutations.ts
- [const] useCreateJobFamily — frontend/src/shared/hooks/useJobCatalogMutations.ts
- [const] useUpdateJobFamily — frontend/src/shared/hooks/useJobCatalogMutations.ts
- [const] useCreateJobRole — frontend/src/shared/hooks/useJobCatalogMutations.ts
- [const] useUpdateJobRole — frontend/src/shared/hooks/useJobCatalogMutations.ts
- [const] useCreateJobLevel — frontend/src/shared/hooks/useJobCatalogMutations.ts
- [const] useUpdateJobLevel — frontend/src/shared/hooks/useJobCatalogMutations.ts
- [const] useCreateJobFamilyGroupVersion — frontend/src/shared/hooks/useJobCatalogMutations.ts
- [const] useCreateJobFamilyVersion — frontend/src/shared/hooks/useJobCatalogMutations.ts
- [const] useCreateJobRoleVersion — frontend/src/shared/hooks/useJobCatalogMutations.ts
- [const] useCreateJobLevelVersion — frontend/src/shared/hooks/useJobCatalogMutations.ts
- [const] commandBaseUrl — frontend/src/shared/config/api.ts
- [const] commandApiBaseUrl — frontend/src/shared/config/api.ts
- [const] commandMetricsUrl — frontend/src/shared/config/api.ts
- [const] queryBaseUrl — frontend/src/shared/config/api.ts
- [const] graphqlEndpoint — frontend/src/shared/config/api.ts
- [const] graphqlMetricsUrl — frontend/src/shared/config/api.ts
- [const] authEndpoint — frontend/src/shared/config/api.ts
- [const] resolveCommandUrl — frontend/src/shared/config/api.ts
- [const] resolveQueryUrl — frontend/src/shared/config/api.ts
- [const] resolveGraphqlUrl — frontend/src/shared/config/api.ts
- [const] resolveAuthUrl — frontend/src/shared/config/api.ts
- [const] TIMEOUTS — frontend/src/shared/config/constants.ts
- [const] LIMITS — frontend/src/shared/config/constants.ts
- [const] BUSINESS_CONSTANTS — frontend/src/shared/config/constants.ts
- [const] UI_CONSTANTS — frontend/src/shared/config/constants.ts
- [const] API_CONSTANTS — frontend/src/shared/config/constants.ts
- [const] TEST_CONSTANTS — frontend/src/shared/config/constants.ts
- [const] RETRY_CONSTANTS — frontend/src/shared/config/constants.ts
- [const] VALIDATION_CONSTANTS — frontend/src/shared/config/constants.ts
- [const] FEATURE_FLAGS — frontend/src/shared/config/constants.ts
- [const] generateConstantsReport — frontend/src/shared/config/constants.ts
- [const] getEnvVar — frontend/src/shared/config/environment.ts
- [const] requireEnvVar — frontend/src/shared/config/environment.ts
- [const] getBooleanEnvVar — frontend/src/shared/config/environment.ts
- [const] getNumberEnvVar — frontend/src/shared/config/environment.ts
- [const] validateEnvironmentConfig — frontend/src/shared/config/environment.ts
- [const] Config — frontend/src/shared/config/index.ts
- [const] CONFIG_MANAGEMENT_STATS — frontend/src/shared/config/index.ts
- [const] SERVICE_PORTS — frontend/src/shared/config/ports.ts
- [const] getServicePort — frontend/src/shared/config/ports.ts
- [const] buildServiceURL — frontend/src/shared/config/ports.ts
- [const] CQRS_ENDPOINTS — frontend/src/shared/config/ports.ts
- [const] FRONTEND_ENDPOINTS — frontend/src/shared/config/ports.ts
- [const] INFRASTRUCTURE_ENDPOINTS — frontend/src/shared/config/ports.ts
- [const] validatePortConfiguration — frontend/src/shared/config/ports.ts
- [const] generatePortConfigReport — frontend/src/shared/config/ports.ts
- [class] TenantManager — frontend/src/shared/config/tenant.ts
- [const] DEFAULT_TENANT_CONFIG — frontend/src/shared/config/tenant.ts
- [const] tenantManager — frontend/src/shared/config/tenant.ts
- [const] getCurrentTenantId — frontend/src/shared/config/tenant.ts
- [const] isDefaultTenant — frontend/src/shared/config/tenant.ts
- [const] getTenantConfig — frontend/src/shared/config/tenant.ts
- [const] ORGANIZATIONS_QUERY_ROOT_KEY — frontend/src/shared/hooks/useEnterpriseOrganizations.ts
- [const] organizationsQueryKey — frontend/src/shared/hooks/useEnterpriseOrganizations.ts
- [const] organizationByCodeQueryKey — frontend/src/shared/hooks/useEnterpriseOrganizations.ts
- [const] useEnterpriseOrganizations — frontend/src/shared/hooks/useEnterpriseOrganizations.ts
- [const] __internal — frontend/src/shared/hooks/useEnterpriseOrganizations.ts
- [const] useMessages — frontend/src/shared/hooks/useMessages.ts
- [const] useCreateOrganization — frontend/src/shared/hooks/useOrganizationMutations.ts
- [const] useUpdateOrganization — frontend/src/shared/hooks/useOrganizationMutations.ts
- [const] useSuspendOrganization — frontend/src/shared/hooks/useOrganizationMutations.ts
- [const] useActivateOrganization — frontend/src/shared/hooks/useOrganizationMutations.ts
- [const] useDeleteOrganization — frontend/src/shared/hooks/useOrganizationMutations.ts
- [const] useCreateOrganizationVersion — frontend/src/shared/hooks/useOrganizationMutations.ts
- [func] useScopes — frontend/src/shared/hooks/useScopes.ts
- [func] useOrgPBAC — frontend/src/shared/hooks/useScopes.ts
- [const] isGraphQLResponse — frontend/src/shared/types/api.ts
- [const] hasGraphQLErrors — frontend/src/shared/types/api.ts
- [func] isOrganizationUnitTypeEnum — frontend/src/shared/types/contract_gen.ts
- [func] isOrganizationStatusEnum — frontend/src/shared/types/contract_gen.ts
- [func] isOrganizationOperationTypeEnum — frontend/src/shared/types/contract_gen.ts
- [const] OrganizationUnitTypeEnumValues — frontend/src/shared/types/contract_gen.ts
- [const] OrganizationStatusEnumValues — frontend/src/shared/types/contract_gen.ts
- [const] OrganizationOperationTypeEnumValues — frontend/src/shared/types/contract_gen.ts
- [const] OrganizationConstraints — frontend/src/shared/types/contract_gen.ts
- [func] convertGraphQLToOrganizationUnit — frontend/src/shared/types/converters.ts
- [func] convertGraphQLToTemporalOrganizationUnit — frontend/src/shared/types/converters.ts
- [func] convertCreateInputToREST — frontend/src/shared/types/converters.ts
- [func] convertUpdateInputToREST — frontend/src/shared/types/converters.ts
- [func] checkTypeConsistency — frontend/src/shared/types/converters.ts
- [func] generateTypeDefinition — frontend/src/shared/types/converters.ts
- [func] logTypeSyncReport — frontend/src/shared/types/converters.ts
- [const] TYPE_USAGE_GUIDE — frontend/src/shared/types/index.ts
- [const] isJsonObject — frontend/src/shared/types/json.ts
- [const] isJsonArray — frontend/src/shared/types/json.ts
- [const] baseColors — frontend/src/shared/utils/colorTokens.ts
- [const] statusColors — frontend/src/shared/utils/colorTokens.ts
- [const] legacyColors — frontend/src/shared/utils/colorTokens.ts
- [const] generateIdempotencyKey — frontend/src/shared/utils/idempotency.ts
- [const] DateUtils — frontend/src/shared/utils/index.ts
- [const] TEMPORAL_UTILS_INFO — frontend/src/shared/utils/index.ts
- [const] createLogger — frontend/src/shared/utils/logger.ts
- [const] logger — frontend/src/shared/utils/logger.ts
- [const] ROOT_PARENT_CODE — frontend/src/shared/utils/organization-helpers.ts
- [const] normalizeParentCode — frontend/src/shared/utils/organization-helpers.ts
- [const] isRootOrganization — frontend/src/shared/utils/organization-helpers.ts
- [const] getOrganizationLevelText — frontend/src/shared/utils/organization-helpers.ts
- [const] coerceOrganizationLevel — frontend/src/shared/utils/organization-helpers.ts
- [const] getDisplayLevel — frontend/src/shared/utils/organization-helpers.ts
- [func] splitPath — frontend/src/shared/utils/organizationPath.ts
- [func] toBreadcrumbItems — frontend/src/shared/utils/organizationPath.ts
- [func] toParentChainFromCodePath — frontend/src/shared/utils/organizationPath.ts
- [func] getOperationPermissionsByScopes — frontend/src/shared/utils/organizationPermissions.ts
- [const] getOperationPermissions — frontend/src/shared/utils/organizationPermissions.ts
- [const] STATUS_CONFIG — frontend/src/shared/utils/statusUtils.ts
- [const] statusUtils — frontend/src/shared/utils/statusUtils.ts
- [class] TemporalConverter — frontend/src/shared/utils/temporal-converter.ts
- [const] TemporalUtils — frontend/src/shared/utils/temporal-converter.ts
- [const] validateTemporalDate — frontend/src/shared/utils/temporal-validation-adapter.ts
- [const] VALIDATION_SYSTEM_INFO — frontend/src/shared/validation/index.ts
- [const] OrganizationUnitSchema — frontend/src/shared/validation/schemas.ts
- [const] TemporalFormSchema — frontend/src/shared/validation/schemas.ts
- [const] CreateOrganizationInputSchema — frontend/src/shared/validation/schemas.ts
- [const] CreateOrganizationResponseSchema — frontend/src/shared/validation/schemas.ts
- [const] UpdateOrganizationInputSchema — frontend/src/shared/validation/schemas.ts
- [const] GraphQLVariablesSchema — frontend/src/shared/validation/schemas.ts
- [const] GraphQLOrganizationResponseSchema — frontend/src/shared/validation/schemas.ts
- [const] ValidationUtils — frontend/src/shared/validation/schemas.ts
- [const] validateCreateOrganizationInput — frontend/src/shared/validation/schemas.ts
- [const] validateUpdateOrganizationInput — frontend/src/shared/validation/schemas.ts
- [const] validateOrganizationResponse — frontend/src/shared/validation/schemas.ts
- [const] validateForm — frontend/src/shared/validation/schemas.ts

---

## 数据库工具链（2025-11 更新）
- Goose 迁移目录：`database/migrations/`，配置 `goose.yaml`，通过 `make db-migrate-all` / `make db-rollback-last` 执行。
- 声明式 Schema：`database/schema.sql` 为唯一事实来源，变更后需同步更新。
- Atlas 配置：`atlas.hcl`（用于生成 Goose 迁移草稿，触发器/函数仍需手工审阅补全）。
- 事务性发件箱：
  - 迁移脚本：`database/migrations/20251107090000_create_outbox_events.sql`（Plan 217，含 `available_at` 列，索引 `idx_outbox_events_published_created_at`、`idx_outbox_events_available_at`）。
  - 共享库：`pkg/database/`（连接池管理、`WithTx`、`OutboxRepository` → `GetUnpublishedForUpdate`/`IncrementRetryCount(ctx, id, nextAvailable)`、Prometheus 指标 `RegisterMetrics`/`RecordConnectionStats`/`ObserveQueryDuration`）。
  - Dispatcher 观测：`cmd/hrms-server/command/internal/utils/metrics.go:RecordOutboxDispatch`。
  - 验证命令：`goose up` → `goose down`（记录日志于 `logs/plan217-goose.log`），`go test ./pkg/database -run TestOutboxMigrationUpDown`。
