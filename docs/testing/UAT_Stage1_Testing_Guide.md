# UAT测试环境配置指南

## 环境要求

### 后端服务
```bash
# 启动Go后端服务
cd go-app
go run main.go

# 服务地址: http://localhost:8080
# API端点: /api/v1/persons, /api/v1/positions
```

### 前端服务
```bash
# 启动Next.js前端服务
cd nextjs-app
npm run dev

# 服务地址: http://localhost:3000
# 主要页面: 
# - /employees (员工管理)
# - /positions (职位管理)
```

### 数据库
```bash
# 确保PostgreSQL运行
# 数据库: cube_castle_dev
# 端口: 5432
```

## 测试数据准备

### 基础组织数据
```sql
INSERT INTO organization_units (id, tenant_id, name, unit_type) VALUES
('dept-001', 'default-tenant', '技术部', 'DEPARTMENT'),
('dept-002', 'default-tenant', '产品部', 'DEPARTMENT'),
('dept-003', 'default-tenant', '人事部', 'DEPARTMENT');
```

### 测试员工数据
- 准备3-5个不同状态的员工
- 包含完整的姓名、邮箱、入职日期
- 测试重复邮箱和工号的验证

### 测试职位数据
- 准备不同类型的职位(全职、兼职、实习生)
- 设置不同的FTE值(0.5, 1.0, 1.5)
- 建立简单的层级关系

## 测试账户配置

### 管理员账户
- 用户名: admin@test.com
- 权限: 完整的员工和职位管理权限

### 普通用户账户
- 用户名: user@test.com  
- 权限: 查看权限，限制编辑功能

## 验收标准

### 性能要求
- 页面加载时间 < 3秒
- API响应时间 < 2秒
- 表格数据渲染 < 1秒

### 功能要求
- 所有CRUD操作正常工作
- 数据验证规则生效
- 错误信息友好显示
- 搜索筛选准确

### 质量要求  
- 界面友好，操作直观
- 数据一致性保证
- 无明显Bug或异常
- 支持基本的并发操作

## 测试检查清单

### 员工管理 ✓
- [ ] 新增员工功能
- [ ] 编辑员工信息
- [ ] 删除员工(如实现)
- [ ] 员工列表展示
- [ ] 搜索和筛选
- [ ] 数据验证提示
- [ ] 错误处理机制

### 职位管理 ✓  
- [ ] 新建职位功能
- [ ] 编辑职位信息
- [ ] 删除职位功能
- [ ] 职位列表展示
- [ ] 状态和类型筛选
- [ ] 统计数据正确
- [ ] FTE预算管理

### 系统集成 ✓
- [ ] 前后端数据同步
- [ ] API错误处理
- [ ] 页面路由正常
- [ ] 数据持久化
- [ ] 多租户隔离(如适用)

## 问题记录模板

```
问题ID: UAT-001
模块: 员工管理
优先级: 高/中/低
描述: [详细描述问题现象]
复现步骤: 
1. 
2. 
3. 
预期结果: [应该发生什么]
实际结果: [实际发生什么]
影响范围: [影响的功能模块]
建议修复: [修复建议]
```

## 测试报告模板

### 测试总结
- 测试时间: [开始时间] - [结束时间]
- 测试范围: 员工管理、职位管理核心功能
- 测试用例数: [总数] / 通过数: [通过] / 失败数: [失败]

### 功能验证结果
| 功能模块 | 测试用例数 | 通过率 | 主要问题 | 建议 |
|---------|-----------|--------|----------|------|
| 员工管理 | X | X% | [问题列表] | [改进建议] |
| 职位管理 | X | X% | [问题列表] | [改进建议] |

### 性能测试结果
- 页面加载平均时间: Xs
- API响应平均时间: Xs  
- 并发用户支持: X用户

### 总体评价
- [ ] 通过UAT，可进入下一阶段
- [ ] 部分通过，需要修复问题后重测
- [ ] 未通过，需要重大修改

### 下一步行动
1. [优先修复的问题]
2. [功能改进建议]  
3. [第二阶段准备工作]
```