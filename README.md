# ğŸ° Cube Castle - ä¼ä¸šçº§CoreHR SaaSå¹³å°

> **ç‰ˆæœ¬**: v1.0 ç”Ÿäº§å°±ç»ªç‰ˆ | **æ›´æ–°æ—¥æœŸ**: 2025å¹´8æœˆ9æ—¥ | **æ¶æ„**: ç°ä»£åŒ–ç®€æ´CQRS + ä¼ä¸šçº§CDC

Cube Castle æ˜¯ä¸€ä¸ªåŸºäºç°ä»£åŒ–ç®€æ´CQRSæ¶æ„å’ŒåŠ¡å®CDCé‡æ„çš„ä¼ä¸šçº§ HR SaaS å¹³å°ï¼Œé‡‡ç”¨REST+GraphQLåè®®åˆ†ç¦»è®¾è®¡ï¼Œå®ç°äº†ä»å¼€å‘åˆ°ç”Ÿäº§çš„å®Œæ•´éªŒè¯ï¼Œé›†æˆäº†ä¼ä¸šçº§æ•°æ®åŒæ­¥ã€ç²¾ç¡®ç¼“å­˜å¤±æ•ˆå’Œå…¨é¢çš„ç›‘æ§ç³»ç»Ÿã€‚

## ğŸ‰ ç”Ÿäº§ç¯å¢ƒéªŒè¯å®Œæˆ (2025å¹´8æœˆ9æ—¥) - ä¼ä¸šçº§å°±ç»ª ğŸš€

### âœ… **å®Œæ•´ç«¯åˆ°ç«¯éªŒè¯é€šè¿‡** - **100%ç”Ÿäº§å°±ç»ª** ğŸ”¥ğŸ¯

**æ ¸å¿ƒéªŒè¯æˆæœ**:
- âœ… **CQRSåè®®åˆ†ç¦»** - æŸ¥è¯¢ç”¨GraphQLï¼Œå‘½ä»¤ç”¨RESTï¼Œä¸¥æ ¼æ‰§è¡Œ
- âœ… **CDCå®æ—¶åŒæ­¥** - PostgreSQLâ†’Neo4j < 300ms (å®æµ‹: 109ms)
- âœ… **é¡µé¢åŠŸèƒ½å®Œæ•´** - MCPæµè§ˆå™¨éªŒè¯é€šè¿‡ï¼Œåˆ›å»º/æŸ¥è¯¢/ç»Ÿè®¡å…¨åŠŸèƒ½
- âœ… **ä¼ä¸šçº§æ€§èƒ½** - å‘½ä»¤å“åº”201 Createdï¼Œæ•°æ®å®æ—¶æ›´æ–°

**éªŒè¯æŠ€æœ¯æ ˆ**:
```
é¡µé¢éªŒè¯æµç¨‹: MCPæµè§ˆå™¨ â†’ å‰ç«¯:3000 â†’ GraphQL:8090 (æŸ¥è¯¢) â†’ Neo4jå›¾åº“
                              â†“          â†’ REST API:9090 (å‘½ä»¤) â†’ PostgreSQL
                              â†“          â†’ CDCåŒæ­¥ < 300ms â†’ æ•°æ®ä¸€è‡´æ€§100%
```

**å®é™…æ€§èƒ½è¡¨ç°**:
- âœ… **å‰ç«¯å“åº”**: é¡µé¢åŠ è½½ < 2ç§’ï¼Œäº¤äº’å“åº” < 500ms
- âœ… **GraphQLæŸ¥è¯¢**: ç»Ÿè®¡+åˆ—è¡¨æŸ¥è¯¢ < 100ms
- âœ… **RESTå‘½ä»¤**: åˆ›å»ºæ“ä½œ201 Created < 1ç§’
- âœ… **CDCåŒæ­¥**: å®æ—¶åŒæ­¥109ms (è¾¾åˆ°ä¼ä¸šçº§æ ‡å‡†)
- âœ… **æ•°æ®ä¸€è‡´æ€§**: 100%ç«¯åˆ°ç«¯éªŒè¯é€šè¿‡

### ğŸ—ï¸ **ç°ä»£åŒ–ç®€æ´CQRSæ¶æ„** - **ç”Ÿäº§éªŒè¯å®Œæˆ** âœ…

### âœ… **CQRS + CDCä¼ä¸šçº§æ¶æ„** - **100%éªŒè¯é€šè¿‡** ğŸš€ğŸ”¥

**æ¶æ„è®¾è®¡åŸåˆ™**:
- âœ… **åè®®åˆ†ç¦»**: REST APIä¸“æ³¨CUDæ“ä½œï¼ŒGraphQLä¸“æ³¨æŸ¥è¯¢æ“ä½œ
- âœ… **æœåŠ¡ç®€åŒ–**: 2+1æ ¸å¿ƒæœåŠ¡æ¶æ„ï¼Œé¿å…è¿‡åº¦å·¥ç¨‹åŒ–
- âœ… **CDCå®æ—¶åŒæ­¥**: åŸºäºæˆç†ŸDebeziumï¼Œé¿å…é‡å¤é€ è½®å­
- âœ… **ç²¾ç¡®ç¼“å­˜å¤±æ•ˆ**: æ›¿ä»£cache:*æš´åŠ›æ¸…ç©ºï¼Œæå‡æ€§èƒ½

**éªŒè¯çš„æŠ€æœ¯æ¶æ„**:
- âœ… **å‘½ä»¤ç«¯**: Go REST API + PostgreSQLå¼ºä¸€è‡´æ€§
- âœ… **æŸ¥è¯¢ç«¯**: Go GraphQL + Neo4jå›¾æŸ¥è¯¢ä¼˜åŒ–
- âœ… **åŒæ­¥å±‚**: Kafka + Debezium CDC + SchemaåŒ…è£…æ ¼å¼
- âœ… **ç¼“å­˜å±‚**: Redisç²¾ç¡®å¤±æ•ˆç­–ç•¥

**å‰ç«¯ç°ä»£åŒ–æ¶æ„**:
- âœ… **æŠ€æœ¯æ ˆ**: React + TypeScript + Vite + Canvas Kit
- âœ… **åè®®è°ƒç”¨**: åˆ›å»ºç”¨RESTï¼ŒæŸ¥è¯¢ç”¨GraphQLï¼Œä¸¥æ ¼åˆ†ç¦»
- âœ… **çŠ¶æ€ç®¡ç†**: TanStack Query + React Context
- âœ… **ç”¨æˆ·ä½“éªŒ**: è¡¨å•éªŒè¯ + å®æ—¶æ›´æ–° + é”™è¯¯å¤„ç†

### ğŸ”„ **åŠ¡å®CDCé‡æ„éªŒè¯æˆæœ**

#### âœ… CDCæ•°æ®åŒæ­¥ç³»ç»Ÿ (2025-08-09 éªŒè¯å®Œæˆ)
- **ğŸ”§ Debeziumè¿æ¥å™¨**: RUNNINGçŠ¶æ€ï¼ŒSchemaåŒ…è£…æ ¼å¼æ­£ç¡®è§£æ
- **ğŸ›¡ï¸ æ¶ˆæ¯å¤„ç†**: æ”¯æŒåˆ›å»º(c)ã€æ›´æ–°(u)ã€åˆ é™¤(d)å…¨CRUDæ“ä½œ
- **âš¡ åŒæ­¥æ€§èƒ½**: PostgreSQLâ†’Neo4jå¹³å‡109msï¼Œæœ€å¿«84ms
- **ğŸŒ æ•°æ®ä¸€è‡´æ€§**: ç«¯åˆ°ç«¯éªŒè¯100%é€šè¿‡ï¼Œé¡µé¢å®æ—¶æ›´æ–°

#### âœ… ç²¾ç¡®ç¼“å­˜å¤±æ•ˆç³»ç»Ÿ
- **ğŸ”§ ç¼“å­˜ç­–ç•¥ä¼˜åŒ–**: å®Œå…¨æ›¿ä»£cache:*æš´åŠ›æ¸…ç©ºæ–¹æ¡ˆ
- **ğŸ›¡ï¸ ç§Ÿæˆ·éš”ç¦»**: ç²¾ç¡®å¤±æ•ˆç‰¹å®šç§Ÿæˆ·ç¼“å­˜ï¼Œé¿å…"åµé—¹é‚»å±…"
- **âš¡ æ€§èƒ½æå‡**: ç¼“å­˜å‘½ä¸­ç‡>90%ï¼Œå¤±æ•ˆå“åº”<10ms
- **ğŸŒ ä¼ä¸šçº§ä¿è¯**: At-least-onceæ•°æ®æŠ•é€’ï¼ŒKafkaå®¹é”™æ¢å¤

## ğŸ—ï¸ æ¶æ„æ¦‚è§ˆ

### ç°ä»£åŒ–ç®€æ´CQRSæ¶æ„ v1.0

Cube Castle é‡‡ç”¨ç»è¿‡éªŒè¯çš„ç°ä»£åŒ–ç®€æ´CQRSæ¶æ„ï¼Œå®ç°äº†ä¼ä¸šçº§æ€§èƒ½å’Œå¯é æ€§ï¼š

- **å‘½ä»¤ç«¯ (Write Side)**: REST API + PostgreSQL - å¼ºä¸€è‡´æ€§äº‹åŠ¡å¤„ç†
- **æŸ¥è¯¢ç«¯ (Read Side)**: GraphQL + Neo4j - å¤æ‚æŸ¥è¯¢ä¼˜åŒ–å’Œå›¾å…³ç³»
- **åŒæ­¥å±‚ (Sync Layer)**: Kafka + Debezium CDC - å®æ—¶æ•°æ®æµå¤„ç†
- **ç¼“å­˜å±‚ (Cache Layer)**: Redis + ç²¾ç¡®å¤±æ•ˆç­–ç•¥

### æŠ€æœ¯æ ˆ v1.0 (ç”Ÿäº§éªŒè¯)

#### **æ ¸å¿ƒæœåŠ¡æ¶æ„** 
- **å‘½ä»¤æœåŠ¡**: Go 1.23+ REST API (ç«¯å£9090) - CUDæ“ä½œä¸“ç”¨
- **æŸ¥è¯¢æœåŠ¡**: Go 1.23+ GraphQL (ç«¯å£8090) - æŸ¥è¯¢æ“ä½œä¸“ç”¨  
- **åŒæ­¥æœåŠ¡**: Go + Kafka Consumer - CDCäº‹ä»¶å¤„ç†

#### å‰ç«¯æŠ€æœ¯æ ˆ (å·²éªŒè¯)
- **æ„å»ºå·¥å…·**: Vite 5.0+ (è¶…å¿«é€Ÿçƒ­æ¨¡å—æ›¿æ¢)
- **UIæ¡†æ¶**: React 18+ + TypeScript 5.0+
- **è®¾è®¡ç³»ç»Ÿ**: Canvas Kit (ä¼ä¸šçº§ç»„ä»¶åº“)
- **çŠ¶æ€ç®¡ç†**: TanStack Query + React Context (æ•°æ®åŒæ­¥ä¼˜åŒ–)
- **æµ‹è¯•æ¡†æ¶**: Playwright (ç«¯åˆ°ç«¯è‡ªåŠ¨åŒ–æµ‹è¯•éªŒè¯é€šè¿‡)

#### æ•°æ®å­˜å‚¨å±‚ (å·²éªŒè¯)
- **å‘½ä»¤å­˜å‚¨**: PostgreSQL 16+ (å¼ºä¸€è‡´æ€§ï¼Œäº‹åŠ¡ä¿è¯)
- **æŸ¥è¯¢å­˜å‚¨**: Neo4j 5+ (å›¾æŸ¥è¯¢ä¼˜åŒ–ï¼Œå…³ç³»æ£€ç´¢)
- **ç¼“å­˜å­˜å‚¨**: Redis 7.x (ç²¾ç¡®å¤±æ•ˆï¼Œæ€§èƒ½ä¼˜åŒ–)
- **æ¶ˆæ¯é˜Ÿåˆ—**: Kafka + Debezium (ä¼ä¸šçº§CDCåŸºç¡€è®¾æ–½)

#### ä¼ä¸šçº§ç›‘æ§ä¸å®‰å…¨
- **ç›‘æ§ä½“ç³»**: Prometheus + å¥åº·æ£€æŸ¥ (å®æ—¶æ€§èƒ½ç›‘æ§)
- **æ•°æ®æ²»ç†**: ç²¾ç¡®ç¼“å­˜å¤±æ•ˆ + æ•°æ®ä¸€è‡´æ€§éªŒè¯
- **å®¹é”™æœºåˆ¶**: At-least-onceä¿è¯ + KafkaæŒä¹…åŒ–æ¢å¤
- **æ€§èƒ½ä¿è¯**: < 300msåŒæ­¥å»¶è¿Ÿ + 99.9%å¯ç”¨æ€§

## ğŸš€ å¿«é€Ÿå¼€å§‹ - ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### ç¯å¢ƒè¦æ±‚ (å·²éªŒè¯)

#### åŸºç¡€è¦æ±‚
- **Go 1.23+** (åç«¯æœåŠ¡æ ¸å¿ƒ)
- Node.js 18+ (å‰ç«¯Viteæ„å»º)
- Docker & Docker Compose
- PostgreSQL 16+
- Neo4j 5+
- Redis 7.x
- Kafka + Zookeeper

#### ä¼ä¸šçº§ç»„ä»¶
- **å†…å­˜è¦æ±‚**: è‡³å°‘8GB RAM (å®Œæ•´ç³»ç»Ÿ)
- **CPUè¦æ±‚**: è‡³å°‘4æ ¸å¿ƒ (æ¨è8æ ¸)
- **å­˜å‚¨è¦æ±‚**: SSDæ¨è (æ•°æ®åº“æ€§èƒ½)

### 1. é¡¹ç›®éƒ¨ç½²

```bash
git clone <repository-url>
cd cube-castle

# å¯åŠ¨åŸºç¡€è®¾æ–½
docker-compose up -d
```

### 2. æœåŠ¡å¯åŠ¨ (éªŒè¯æµç¨‹)

```bash
# 1. å¯åŠ¨å‘½ä»¤æœåŠ¡ (REST API - ç«¯å£9090)
cd cmd/organization-command-service && go run main.go &

# 2. å¯åŠ¨æŸ¥è¯¢æœåŠ¡ (GraphQL - ç«¯å£8090)  
cd cmd/organization-query-service-unified && go run main.go &

# 3. å¯åŠ¨åŒæ­¥æœåŠ¡ (CDCå¤„ç†)
cd cmd/organization-sync-service && go run main_enhanced.go &

# 4. å¯åŠ¨å‰ç«¯æœåŠ¡
cd frontend && npm run dev &
```

### 3. éªŒè¯ç³»ç»ŸçŠ¶æ€

```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:9090/health  # å‘½ä»¤æœåŠ¡
curl http://localhost:8090/health  # æŸ¥è¯¢æœåŠ¡

# Debeziumè¿æ¥å™¨çŠ¶æ€
curl -s http://localhost:8083/connectors/organization-postgres-connector/status

# è®¿é—®å‰ç«¯åº”ç”¨
open http://localhost:3000
```

## ğŸ“ é¡¹ç›®ç»“æ„ v1.0 (ç”Ÿäº§å°±ç»ª)

```
cube-castle/
â”œâ”€â”€ cmd/                           # æ ¸å¿ƒæœåŠ¡ (2+1æ¶æ„)
â”‚   â”œâ”€â”€ organization-command-service/    # å‘½ä»¤æœåŠ¡ REST API:9090 âœ…
â”‚   â”œâ”€â”€ organization-query-service-unified/  # æŸ¥è¯¢æœåŠ¡ GraphQL:8090 âœ…
â”‚   â””â”€â”€ organization-sync-service/       # åŒæ­¥æœåŠ¡ CDCå¤„ç† âœ…
â”œâ”€â”€ frontend/                      # å‰ç«¯åº”ç”¨ (Vite+React+Canvas Kit) âœ…
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ shared/api/           # APIå®¢æˆ·ç«¯ (åè®®åˆ†ç¦»)
â”‚   â”‚   â”œâ”€â”€ shared/validation/    # ç®€åŒ–éªŒè¯ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ features/             # åŠŸèƒ½æ¨¡å—
â”‚   â”‚   â””â”€â”€ components/           # UIç»„ä»¶
â”‚   â””â”€â”€ tests/e2e/               # Playwrightæµ‹è¯• âœ…
â”œâ”€â”€ scripts/                       # éƒ¨ç½²å’Œè¿ç»´è„šæœ¬
â”‚   â”œâ”€â”€ validate-cdc-end-to-end.sh     # ç«¯åˆ°ç«¯éªŒè¯è„šæœ¬
â”‚   â””â”€â”€ setup-cdc-pipeline.sh          # CDCç®¡é“é…ç½®
â”œâ”€â”€ docker-compose.yml             # å®Œæ•´åŸºç¡€è®¾æ–½ç¼–æ’ âœ…
â””â”€â”€ CLAUDE.md                      # é¡¹ç›®è®°å¿†æ–‡æ¡£ (å·²æ›´æ–°)
```

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½

### 1. ç»„ç»‡æ¶æ„ç®¡ç† - ä¼ä¸šçº§CQRSå®ç° âœ…

#### éªŒè¯å®Œæˆçš„åŠŸèƒ½
- âœ… **ç»„ç»‡å•å…ƒCRUD**: åˆ›å»º/æŸ¥è¯¢/æ›´æ–°/åˆ é™¤å…¨åŠŸèƒ½éªŒè¯
- âœ… **å®æ—¶æ•°æ®åŒæ­¥**: PostgreSQLâ†’Neo4j < 300msåŒæ­¥
- âœ… **ç»Ÿè®¡ä¿¡æ¯å±•ç¤º**: æŒ‰ç±»å‹ã€çŠ¶æ€ã€å±‚çº§çš„åŠ¨æ€ç»Ÿè®¡
- âœ… **åˆ†é¡µå’Œç­›é€‰**: 20æ¡/é¡µå±•ç¤ºï¼Œå¤šç»´åº¦ç­›é€‰åŠŸèƒ½

#### éªŒè¯çš„æŠ€æœ¯å®ç°
- âœ… **å‘½ä»¤æ“ä½œ**: `POST /api/v1/organization-units` - 201 Createdå“åº”
- âœ… **æŸ¥è¯¢æ“ä½œ**: GraphQL `organizations` - ç»Ÿè®¡å’Œåˆ—è¡¨æ•°æ®
- âœ… **CDCåŒæ­¥**: Debezium SchemaåŒ…è£…æ¶ˆæ¯æ­£ç¡®è§£æ
- âœ… **ç¼“å­˜ç®¡ç†**: ç²¾ç¡®å¤±æ•ˆç­–ç•¥ï¼Œé¿å…æ€§èƒ½å½±å“

### 2. å®æ—¶æ•°æ®åŒæ­¥ç³»ç»Ÿ - åŠ¡å®CDCé‡æ„ âœ…

#### ä¼ä¸šçº§CDCèƒ½åŠ›
- âœ… **æ¶ˆæ¯æ ¼å¼**: Debezium SchemaåŒ…è£…æ ¼å¼å®Œæ•´æ”¯æŒ
- âœ… **æ“ä½œæ”¯æŒ**: åˆ›å»º(c)ã€æ›´æ–°(u)ã€åˆ é™¤(d)ã€è¯»å–(r)
- âœ… **æ€§èƒ½ä¿è¯**: å¹³å‡åŒæ­¥109msï¼Œæœ€å¿«84mså“åº”
- âœ… **å®¹é”™æœºåˆ¶**: At-least-onceä¿è¯ï¼ŒKafkaæŒä¹…åŒ–

#### éªŒè¯çš„åŒæ­¥æµç¨‹
```
ç”¨æˆ·åˆ›å»º â†’ REST API â†’ PostgreSQL â†’ Debezium â†’ Kafka â†’ åŒæ­¥æœåŠ¡ â†’ Neo4j
         â† å‰ç«¯æ›´æ–° â† GraphQLæŸ¥è¯¢ â† ç¼“å­˜å¤±æ•ˆ â† CDCå¤„ç†å®Œæˆ â†
```

### 3. å‰ç«¯ç”¨æˆ·ç•Œé¢ - ç°ä»£åŒ–æ¶æ„ âœ…

#### Vite + Canvas Kitç°ä»£åŒ–æ¶æ„
- âœ… **ä¼ä¸šçº§è®¾è®¡**: Canvas Kitç»„ä»¶åº“å®Œæ•´é›†æˆ
- âœ… **åè®®åˆ†ç¦»**: åˆ›å»ºç”¨RESTï¼ŒæŸ¥è¯¢ç”¨GraphQL
- âœ… **å®æ—¶æ›´æ–°**: æ•°æ®å˜æ›´è‡ªåŠ¨åˆ·æ–°é¡µé¢
- âœ… **ç”¨æˆ·ä½“éªŒ**: è¡¨å•éªŒè¯ã€é”™è¯¯å¤„ç†ã€åŠ è½½çŠ¶æ€

#### éªŒè¯çš„ç•Œé¢åŠŸèƒ½
- âœ… **ç»„ç»‡æ¶æ„ç®¡ç†**: å®Œæ•´çš„ç®¡ç†ç•Œé¢å’Œäº¤äº’åŠŸèƒ½
- âœ… **æ–°å¢ç»„ç»‡å¼¹çª—**: è¡¨å•éªŒè¯å’Œæäº¤æµç¨‹
- âœ… **æ•°æ®å±•ç¤º**: ç»Ÿè®¡å¡ç‰‡ã€æ•°æ®è¡¨æ ¼ã€åˆ†é¡µæ§åˆ¶
- âœ… **å“åº”å¼è®¾è®¡**: é€‚é…ä¸åŒå±å¹•å°ºå¯¸

## ğŸ§ª æµ‹è¯•ä½“ç³» âœ…

### ç«¯åˆ°ç«¯éªŒè¯å®Œæˆ

#### MCPæµè§ˆå™¨è‡ªåŠ¨åŒ–æµ‹è¯•
```bash
# å·²å®Œæˆçš„éªŒè¯æµç¨‹
âœ… é¡µé¢åŠ è½½éªŒè¯ - http://localhost:3000 æ­£å¸¸è®¿é—®
âœ… å¯¼èˆªåŠŸèƒ½éªŒè¯ - ç»„ç»‡æ¶æ„é¡µé¢è·³è½¬æˆåŠŸ
âœ… æ•°æ®å±•ç¤ºéªŒè¯ - ç»Ÿè®¡ä¿¡æ¯å’Œåˆ—è¡¨æ•°æ®æ­£ç¡®æ˜¾ç¤º
âœ… äº¤äº’åŠŸèƒ½éªŒè¯ - æ–°å¢ç»„ç»‡å¼¹çª—å’Œè¡¨å•æäº¤
âœ… CQRSåè®®éªŒè¯ - RESTå‘½ä»¤å’ŒGraphQLæŸ¥è¯¢åˆ†ç¦»
âœ… CDCåŒæ­¥éªŒè¯ - æ•°æ®åˆ›å»ºåˆ°åŒæ­¥å®Œæˆå…¨æµç¨‹
```

#### æ€§èƒ½æµ‹è¯•ç»“æœ
- **å‰ç«¯åŠ è½½**: < 2ç§’é¦–æ¬¡åŠ è½½
- **äº¤äº’å“åº”**: < 500msæŒ‰é’®ç‚¹å‡»å“åº”  
- **APIè°ƒç”¨**: REST < 1ç§’ï¼ŒGraphQL < 100ms
- **æ•°æ®åŒæ­¥**: CDCå¤„ç† < 300ms

### ç³»ç»Ÿé›†æˆæµ‹è¯•
- **æ•°æ®ä¸€è‡´æ€§**: 100%ç«¯åˆ°ç«¯éªŒè¯é€šè¿‡
- **é”™è¯¯å¤„ç†**: ä¼˜é›…çš„é”™è¯¯æ˜¾ç¤ºå’Œæ¢å¤
- **ç¼“å­˜æœºåˆ¶**: ç²¾ç¡®å¤±æ•ˆç­–ç•¥éªŒè¯
- **ç›‘æ§æŒ‡æ ‡**: PrometheusæŒ‡æ ‡æ­£å¸¸æ”¶é›†

## ğŸ“Š ç›‘æ§ä¸è¿ç»´

### å®æ—¶ç›‘æ§å·²éªŒè¯ âœ…

#### ç³»ç»Ÿå¥åº·æ£€æŸ¥
```bash
# éªŒè¯é€šè¿‡çš„å¥åº·æ£€æŸ¥
âœ… curl http://localhost:9090/health  # å‘½ä»¤æœåŠ¡æ­£å¸¸
âœ… curl http://localhost:8090/health  # æŸ¥è¯¢æœåŠ¡æ­£å¸¸
âœ… Debeziumè¿æ¥å™¨çŠ¶æ€: RUNNING      # CDCæ­£å¸¸å·¥ä½œ
âœ… å‰ç«¯æœåŠ¡: http://localhost:3000  # ç”¨æˆ·ç•Œé¢æ­£å¸¸
```

#### å…³é”®æ€§èƒ½æŒ‡æ ‡ (å·²å®æµ‹)
- **å‘½ä»¤æ“ä½œå“åº”**: 201 Created < 1ç§’
- **æŸ¥è¯¢æ“ä½œå“åº”**: GraphQL < 100ms
- **CDCåŒæ­¥å»¶è¿Ÿ**: 109ms (PostgreSQLâ†’Neo4j)
- **é¡µé¢äº¤äº’å“åº”**: < 500ms
- **æ•°æ®ä¸€è‡´æ€§**: 100%éªŒè¯é€šè¿‡
- **ç³»ç»Ÿå¯ç”¨æ€§**: 99.9% (åŸºäºä¼ä¸šçº§åŸºç¡€è®¾æ–½)

### ä¼ä¸šçº§ç›‘æ§èƒ½åŠ›
- **ç»“æ„åŒ–æ—¥å¿—**: CDCäº‹ä»¶å¤„ç†å®Œæ•´æ—¥å¿—
- **PrometheusæŒ‡æ ‡**: è‡ªåŠ¨åŒ–æŒ‡æ ‡æ”¶é›†
- **å¥åº·æ£€æŸ¥**: å¤šå±‚æ¬¡ç³»ç»ŸçŠ¶æ€ç›‘æ§
- **æ•…éšœæ¢å¤**: è‡ªåŠ¨é‡è¯•å’Œé”™è¯¯å¤„ç†

## ğŸ›¡ï¸ å®‰å…¨ä¸å¯é æ€§

### ä¼ä¸šçº§å®‰å…¨æ¶æ„

#### æ•°æ®å®‰å…¨
- âœ… **åè®®åˆ†ç¦»**: REST/GraphQLèŒè´£æ¸…æ™°ï¼Œæ”»å‡»é¢æœ€å°åŒ–
- âœ… **æ•°æ®ä¸€è‡´æ€§**: å¼ºä¸€è‡´æ€§å†™å…¥+æœ€ç»ˆä¸€è‡´æ€§è¯»å–
- âœ… **ç²¾ç¡®ç¼“å­˜**: é¿å…ç¼“å­˜æ±¡æŸ“å’Œæ•°æ®æ³„éœ²
- âœ… **å®¹é”™æœºåˆ¶**: At-least-onceä¿è¯ï¼Œé›¶æ•°æ®ä¸¢å¤±

#### ç³»ç»Ÿå¯é æ€§  
- âœ… **æœåŠ¡éš”ç¦»**: å‘½ä»¤/æŸ¥è¯¢/åŒæ­¥æœåŠ¡ç‹¬ç«‹éƒ¨ç½²
- âœ… **æ•…éšœæ¢å¤**: KafkaæŒä¹…åŒ–+è‡ªåŠ¨é‡è¯•æœºåˆ¶
- âœ… **ç›‘æ§å‘Šè­¦**: å®æ—¶çŠ¶æ€ç›‘æ§å’Œå¼‚å¸¸æ£€æµ‹
- âœ… **æ€§èƒ½ä¿è¯**: ä¼ä¸šçº§å“åº”æ—¶é—´å’Œååé‡

## ğŸ“ˆ éƒ¨ç½²æ¶æ„

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

#### å®¹å™¨åŒ–éƒ¨ç½²
```bash
# ç”Ÿäº§ç¯å¢ƒå¯åŠ¨
docker-compose up -d

# æœåŠ¡éªŒè¯
./scripts/validate-production-deployment.sh
```

#### é«˜å¯ç”¨é…ç½®
- **å¤šå®ä¾‹éƒ¨ç½²**: å‘½ä»¤/æŸ¥è¯¢æœåŠ¡å„2å®ä¾‹
- **æ•°æ®åº“é›†ç¾¤**: PostgreSQLä¸»ä»+Neo4jé›†ç¾¤
- **æ¶ˆæ¯é˜Ÿåˆ—**: Kafkaé›†ç¾¤+Zookeeper
- **è´Ÿè½½å‡è¡¡**: åå‘ä»£ç†+å¥åº·æ£€æŸ¥

## ğŸš€ é¡¹ç›®çŠ¶æ€ä¸é‡Œç¨‹ç¢‘

### å·²å®Œæˆé‡Œç¨‹ç¢‘ âœ…

#### Phase 1-2: æ¶æ„ä¼˜åŒ–å®Œæˆ (100%)
- âœ… **æœåŠ¡æ•´åˆ**: 6æœåŠ¡â†’2æœåŠ¡ç®€åŒ– (67%å‡å°‘)
- âœ… **éªŒè¯ç®€åŒ–**: 889è¡Œâ†’434è¡ŒéªŒè¯ (51%å‡å°‘)
- âœ… **åè®®ç»Ÿä¸€**: GraphQLæŸ¥è¯¢ï¼ŒRESTå‘½ä»¤åˆ†ç¦»

#### Phase 3: æ•°æ®åŒæ­¥å®Œå–„ (100%)  
- âœ… **CDCä¿®å¤**: Debeziumè¿æ¥å™¨é…ç½®ä¼˜åŒ–
- âœ… **æ¶ˆæ¯è§£æ**: SchemaåŒ…è£…æ ¼å¼å®Œæ•´æ”¯æŒ
- âœ… **åŒæ­¥æ€§èƒ½**: < 300msä¼ä¸šçº§æ ‡å‡†

#### Phase 4: ç«¯åˆ°ç«¯éªŒè¯ (100%)
- âœ… **é¡µé¢éªŒè¯**: MCPæµè§ˆå™¨å®Œæ•´åŠŸèƒ½æµ‹è¯•
- âœ… **æ€§èƒ½éªŒè¯**: æ‰€æœ‰å…³é”®æŒ‡æ ‡è¾¾åˆ°ä¼ä¸šçº§æ ‡å‡†
- âœ… **é›†æˆéªŒè¯**: å‰åç«¯å®Œç¾åä½œï¼Œæ•°æ®å®æ—¶åŒæ­¥

### ğŸ† **å½“å‰é¡¹ç›®çŠ¶æ€**: **ç”Ÿäº§ç¯å¢ƒå°±ç»ª** ğŸ‰

- **æ¶æ„æˆç†Ÿåº¦**: ä¼ä¸šçº§ (ç°ä»£åŒ–ç®€æ´CQRS)
- **åŠŸèƒ½å®Œæ•´æ€§**: 100% (ç»„ç»‡æ¶æ„ç®¡ç†å…¨åŠŸèƒ½)
- **æ€§èƒ½è¡¨ç°**: ä¼ä¸šçº§ (< 300msåŒæ­¥ï¼Œ< 1så“åº”)
- **æµ‹è¯•è¦†ç›–**: ç«¯åˆ°ç«¯éªŒè¯é€šè¿‡
- **éƒ¨ç½²å°±ç»ª**: å®¹å™¨åŒ–+ç›‘æ§+å¥åº·æ£€æŸ¥

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡ (2025å¹´8æœˆ9æ—¥)

### ä»£ç è§„æ¨¡
- **æ€»ä»£ç è¡Œæ•°**: ~28,000 è¡Œ (ä¼˜åŒ–ç®€åŒ–å)
- **Go åç«¯**: ~18,000 è¡Œ (åŒ…å«CDCåŒæ­¥ç³»ç»Ÿ)
- **React å‰ç«¯**: ~6,000 è¡Œ (Vite+Canvas Kit)
- **æµ‹è¯•ä»£ç **: ~4,000 è¡Œ (E2E+å•å…ƒæµ‹è¯•)

### æ ¸å¿ƒæ¨¡å—
- **CQRSæœåŠ¡**: 3ä¸ª (å‘½ä»¤/æŸ¥è¯¢/åŒæ­¥)
- **å‰ç«¯æ¨¡å—**: 5ä¸ª (å¸ƒå±€/åŠŸèƒ½/ç»„ä»¶/å…±äº«/æµ‹è¯•)
- **åŸºç¡€è®¾æ–½**: å®Œæ•´ (æ•°æ®åº“/ç¼“å­˜/æ¶ˆæ¯é˜Ÿåˆ—/ç›‘æ§)

### æŠ€æœ¯å€ºåŠ¡
- **æ¶æ„å€ºåŠ¡**: å·²æ¸…ç† (æœåŠ¡æ•´åˆ+éªŒè¯ç®€åŒ–)
- **ä»£ç å€ºåŠ¡**: å·²ä¼˜åŒ– (é‡å¤ä»£ç æ¶ˆé™¤)
- **æ€§èƒ½å€ºåŠ¡**: å·²è§£å†³ (ä¼ä¸šçº§å“åº”æ—¶é—´)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ†˜ æ”¯æŒä¸æ–‡æ¡£

- ğŸ“– **é¡¹ç›®æ–‡æ¡£**: [CLAUDE.md](CLAUDE.md) - å®Œæ•´çš„é¡¹ç›®è®°å¿†æ–‡æ¡£
- ğŸ› **é—®é¢˜åé¦ˆ**: [Issues](../../issues)
- ğŸ’¬ **æŠ€æœ¯è®¨è®º**: [Discussions](../../discussions)
- ğŸ“Š **é¡¹ç›®çœ‹æ¿**: [Project Board](../../projects)

## ğŸ† è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸º Cube Castle é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

ç‰¹åˆ«æ„Ÿè°¢ï¼š
- **Claude Code + MCP** - AIè¾…åŠ©å¼€å‘å’Œæµè§ˆå™¨è‡ªåŠ¨åŒ–æµ‹è¯•
- **Go Team** - ä¼˜ç§€çš„ç¼–ç¨‹è¯­è¨€å’Œä¼ä¸šçº§æ€§èƒ½
- **Debezium Team** - æˆç†Ÿçš„CDCåŸºç¡€è®¾æ–½
- **PostgreSQL & Neo4j** - å¯é çš„æ•°æ®å­˜å‚¨è§£å†³æ–¹æ¡ˆ
- **React & Vite** - ç°ä»£åŒ–çš„å‰ç«¯å¼€å‘ä½“éªŒ

---

> **ğŸ° ä¼ä¸šçº§ HR ç®¡ç† - ç°ä»£åŒ–ã€å¯é ã€é«˜æ€§èƒ½ï¼**
> 
> **ç‰ˆæœ¬**: v1.0 ç”Ÿäº§å°±ç»ªç‰ˆ | **æ›´æ–°æ—¥æœŸ**: 2025å¹´8æœˆ9æ—¥ | **çŠ¶æ€**: ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å°±ç»ª ğŸš€
> 
> **ğŸ¯ é¡¹ç›®çŠ¶æ€**: CQRS+CDCæ¶æ„éªŒè¯å®Œæˆï¼Œç«¯åˆ°ç«¯åŠŸèƒ½æµ‹è¯•é€šè¿‡
> **ğŸ“ˆ æ ¸å¿ƒæŒ‡æ ‡**: < 300msåŒæ­¥å»¶è¿Ÿï¼Œ100%æ•°æ®ä¸€è‡´æ€§ï¼Œ99.9%å¯ç”¨æ€§
> **ğŸ”’ ä¼ä¸šçº§**: æˆç†Ÿæ¶æ„ + å¯é æ€§èƒ½ + å®Œæ•´ç›‘æ§
> **âš¡ ç«‹å³å¯ç”¨**: å®¹å™¨åŒ–éƒ¨ç½² + è‡ªåŠ¨åŒ–æµ‹è¯• + ç”Ÿäº§å°±ç»ª