# --- Docker Compose Variables ---
POSTGRES_USER=user
POSTGRES_PASSWORD=password
POSTGRES_DB=cubecastle

# --- Command Service Variables (REST API) ---
COMMAND_SERVICE_PORT=9090
DATABASE_URL="postgresql://user:password@postgres:5432/cubecastle?sslmode=disable"

# --- Query Service Variables (GraphQL) ---
QUERY_SERVICE_PORT=8090
GRAPHQL_DATABASE_URL="postgresql://user:password@postgres:5432/cubecastle?sslmode=disable"

# --- Redis Cache Variables ---
REDIS_URL="redis://redis:6379"

# --- Multi-Tenant Variables ---
# 默认租户ID（开发环境）
DEFAULT_TENANT_ID=3b99930c-4dc6-4cc9-8e4d-7d960a931cb9

# --- Scheduler / Temporal Configuration ---
SCHEDULER_ENABLED=true
SCHEDULER_TEMPORAL_ENDPOINT=temporal:7233
SCHEDULER_NAMESPACE=cube-castle
SCHEDULER_TASK_QUEUE=organization-maintenance
SCHEDULER_WORKER_CONCURRENCY=4
SCHEDULER_WORKER_POLLER_COUNT=2
SCHEDULER_RETRY_MAX_ATTEMPTS=3
SCHEDULER_RETRY_INITIAL_INTERVAL=1s
SCHEDULER_RETRY_BACKOFF_COEFFICIENT=2.0
SCHEDULER_RETRY_MAX_INTERVAL=1m
SCHEDULER_MONITOR_ENABLED=true
SCHEDULER_MONITOR_CHECK_INTERVAL=5m
SCHEDULER_CRON_CHECK_INTERVAL=1m
SCHEDULER_SCRIPTS_ROOT=./scripts

# --- Auth/JWT Variables ---
# 模式：dev|prod
AUTH_MODE=dev

# 算法：RS256（强制，HS256 已禁用）
JWT_ALG=RS256

# HS256 共享密钥（开发默认）
JWT_SECRET=cube-castle-development-secret-key-2025

# RS256 公私钥（开发可选）
# JWT_PRIVATE_KEY_PATH=./secrets/dev-jwt-private.pem
# JWT_PUBLIC_KEY_PATH=./secrets/dev-jwt-public.pem

# 生产使用 JWKS（示例）
# JWT_JWKS_URL=https://idp.example.com/.well-known/jwks.json

JWT_ISSUER=cube-castle
JWT_AUDIENCE=cube-castle-api
JWT_ALLOWED_CLOCK_SKEW=60
