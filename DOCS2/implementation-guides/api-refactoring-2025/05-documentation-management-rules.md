# 文档管理规则与限制

**生效日期**: 2025年8月5日  
**版本**: v1.0  
**适用范围**: 所有项目成员  
**执行级别**: 强制性规则

## 🚫 禁止规则

### 1. 禁止在docs目录新增文档

**规则**: 从2025年8月5日起，**严格禁止**在 `docs/` 目录及其子目录中创建任何新文档。

**背景**: 
- docs目录存在严重的文档版本冲突和重复问题
- 已完成API文档统一整合至DOCS2目录
- 为确保文档架构清晰，避免重复混乱再次发生

**适用文件类型**:
- ✅ 禁止: 所有 `.md` 文档文件
- ✅ 禁止: 所有 `.txt` 说明文件  
- ✅ 禁止: 所有文档相关资源文件
- ✅ 禁止: 新增子目录用于存放文档

### 2. 现有docs文档处理规则

**保留原则**:
- 仅保留具有历史价值的实施记录和测试报告
- 保留已归档的历史版本文档
- 保留故障排除和问题解决记录

**维护限制**:
- 现有文档只允许紧急错误修正
- 不允许大幅内容更新或重写
- 不允许添加新章节或功能

## ✅ 新文档创建规则

### 统一文档目录: DOCS2

**新文档必须创建于**:
```
DOCS2/
├── api-specifications/          # API规范文档
├── architecture-decisions/      # 架构决策记录(ADR)
├── implementation-guides/       # 实施指南
└── troubleshooting/            # 故障排除指南
```

### 文档分类标准

| 文档类型 | 目标目录 | 命名规范 |
|---------|----------|----------|
| API规范 | `DOCS2/api-specifications/` | `{service}-api-specification.md` |
| 架构决策 | `DOCS2/architecture-decisions/` | `ADR-{number}-{title}.md` |
| 实施指南 | `DOCS2/implementation-guides/` | `{project}/{phase}-{description}.md` |
| 故障排除 | `DOCS2/troubleshooting/` | `{component}-{issue}-diagnosis.md` |

## 🔧 执行机制

### 1. 代码审查检查
所有涉及docs目录的Pull Request必须通过以下检查：
- 确认无新增文档文件
- 现有文档修改必须有合理说明
- 新文档必须位于DOCS2目录

### 2. 自动化检测 (建议实施)
```bash
# Git Hook示例 - 禁止docs目录新增文件
if git diff --cached --name-status | grep -E "^A\s+docs/.*\.(md|txt)$"; then
    echo "❌ 错误: 禁止在docs目录创建新文档"
    echo "📋 请将新文档创建于DOCS2目录"
    exit 1
fi
```

### 3. 团队培训要求
- 所有项目成员必须了解此规则
- 新成员入职时必须告知文档架构
- 定期检查和提醒规则执行情况

## 📋 违规处理

### 违规行为
1. 在docs目录创建新文档
2. 大幅修改现有docs文档内容
3. 在docs目录创建新的子目录结构

### 处理措施
1. **即时纠正**: 立即将违规文档移动至正确位置
2. **代码审查拒绝**: 包含违规的PR将被拒绝合并
3. **团队提醒**: 向团队说明正确的文档创建流程

## 🎯 规则目标

### 短期目标 (1个月内)
- 100%的新文档创建于DOCS2目录
- 零docs目录新增文档违规
- 团队成员100%了解新规则

### 长期目标 (3个月内)
- 建立稳定的文档架构
- 消除文档版本冲突问题
- 形成标准化的文档管理流程

## 📞 咨询与支持

### 如需创建新文档
1. 确定文档类型和适合的DOCS2子目录
2. 参考现有文档的命名和格式规范
3. 如有疑问，联系项目架构团队确认

### 紧急情况处理
如遇特殊情况需要在docs目录操作：
1. 先联系项目架构团队说明原因
2. 获得明确批准后方可操作
3. 操作后及时报告并制定后续迁移计划

## 📊 规则监控

### 监控指标
- docs目录新增文件数量 (目标: 0)
- DOCS2目录文档增长数量
- 文档架构违规次数 (目标: 0)
- 团队成员规则遵守率 (目标: 100%)

### 定期检查
- 每周检查docs目录变更情况
- 每月统计DOCS2文档增长情况
- 每季度评估规则执行效果

---

**规则制定**: 项目架构团队  
**审核批准**: 技术委员会  
**执行监督**: 全体项目成员  
**生效日期**: 2025年8月5日

**重要提醒**: 此规则是为了维护项目文档架构的整洁性和一致性，请所有团队成员严格遵守。