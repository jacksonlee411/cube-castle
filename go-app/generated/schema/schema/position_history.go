// Code generated by metacontract-compiler. DO NOT EDIT.
package schema

import (
	"time"

	"entgo.io/ent"
	"entgo.io/ent/schema/edge"
	"entgo.io/ent/schema/field"
	"entgo.io/ent/schema/index"
	"github.com/google/uuid"

	"github.com/gaogu/cube-castle/go-app/internal/ent/annotations"
)

// Position_history holds the schema definition for position_history.
type Position_history struct {
	ent.Schema
}

// Fields of Position_history.
func (Position_history) Fields() []ent.Field {
	return []ent.Field{

		field.UUID("id").NotEmpty().Unique().Annotations(annotations.MetaContractAnnotation{DataClassification: "INTERNAL"}),

		field.UUID("tenant_id").NotEmpty().Annotations(annotations.MetaContractAnnotation{DataClassification: "INTERNAL"}),

		field.UUID("employee_id").NotEmpty().Annotations(annotations.MetaContractAnnotation{DataClassification: "INTERNAL"}),

		field.String("position_title").NotEmpty().Annotations(annotations.MetaContractAnnotation{DataClassification: "INTERNAL"}),

		field.String("department").NotEmpty().Annotations(annotations.MetaContractAnnotation{DataClassification: "INTERNAL"}),

		field.String("job_level").Annotations(annotations.MetaContractAnnotation{DataClassification: "INTERNAL"}),

		field.String("location").Annotations(annotations.MetaContractAnnotation{DataClassification: "INTERNAL"}),

		field.String("employment_type").NotEmpty().Annotations(annotations.MetaContractAnnotation{DataClassification: "INTERNAL"}),

		field.UUID("reports_to_employee_id").Annotations(annotations.MetaContractAnnotation{DataClassification: "INTERNAL"}),

		field.Time("effective_date").NotEmpty().Annotations(annotations.MetaContractAnnotation{DataClassification: "INTERNAL"}),

		field.Time("end_date").Annotations(annotations.MetaContractAnnotation{DataClassification: "INTERNAL"}),

		field.String("change_reason").Annotations(annotations.MetaContractAnnotation{DataClassification: "INTERNAL"}),

		field.Bool("is_retroactive").NotEmpty().Annotations(annotations.MetaContractAnnotation{DataClassification: "INTERNAL"}),

		field.UUID("created_by").NotEmpty().Annotations(annotations.MetaContractAnnotation{DataClassification: "INTERNAL"}),

		field.Time("created_at").NotEmpty().Annotations(annotations.MetaContractAnnotation{DataClassification: "INTERNAL"}),

		field.Float64("min_salary").Annotations(annotations.MetaContractAnnotation{DataClassification: "RESTRICTED"}),

		field.Float64("max_salary").Annotations(annotations.MetaContractAnnotation{DataClassification: "RESTRICTED"}),

		field.String("currency").Annotations(annotations.MetaContractAnnotation{DataClassification: "INTERNAL"}),
	}
}

// Edges of Position_history.
func (Position_history) Edges() []ent.Edge {
	return []ent.Edge{

		edge.To("employee", Person.Type).Unique().Required(),

		edge.To("reports_to", Person.Type).Unique(),
	}
}

// Indexes of Position_history.
func (Position_history) Indexes() []ent.Index {
	return []ent.Index{
		// Tenant isolation index
		index.Fields("tenant_id"),

		// Time-based query optimization

	}
}

// Annotations of Position_history.
func (Position_history) Annotations() []schema.Annotation {
	return []schema.Annotation{
		annotations.MetaContractAnnotation{
			DataClassification: "INTERNAL",
			ComplianceTags: []string{

				"SOX",

				"GDPR",

				"AUDIT_TRAIL",
			},

			PersistenceProfile: &annotations.PersistenceProfile{
				PrimaryStore: "postgresql",
				IndexedIn: []string{

					"postgresql",

					"neo4j",
				},
				GraphNodeLabel: "PositionHistory",
				GraphEdgeDefinitions: []string{

					"POSITION_HELD_BY -> Person",

					"REPORTS_TO_POSITION -> PositionHistory",

					"POSITION_IN_DEPARTMENT -> Organization",
				},
			},
		},
	}
}
